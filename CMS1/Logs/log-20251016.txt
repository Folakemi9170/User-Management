2025-10-16 08:41:35.870 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 08:41:36.400 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 08:41:36.403 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 08:41:36.554 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 08:41:36.557 +01:00 [INF] Hosting environment: Development
2025-10-16 08:41:36.559 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 08:41:38.810 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-16 08:41:39.048 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 243.8482ms
2025-10-16 08:41:39.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-16 08:41:39.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-16 08:41:39.144 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 36.5524ms
2025-10-16 08:41:39.211 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 145.0652ms
2025-10-16 08:41:39.241 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-16 08:41:39.282 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.4126ms
2025-10-16 08:41:53.747 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Employee/98 - application/json 174
2025-10-16 08:41:53.761 +01:00 [INF] CORS policy execution successful.
2025-10-16 08:41:54.105 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.UpdateEmployee (UserManagement)'
2025-10-16 08:41:54.151 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] UpdateEmployee(Int32, UserManagement.Application.DTO.EmployeeDto.UpdateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-16 08:41:58.607 +01:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-10-16 08:41:58.699 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-10-16 08:41:58.777 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.UpdateEmployee (UserManagement) in 4608.5401ms
2025-10-16 08:41:58.784 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.UpdateEmployee (UserManagement)'
2025-10-16 08:41:58.810 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Employee/98 - 404 null application/problem+json; charset=utf-8 5063.4654ms
2025-10-16 08:42:20.646 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/User/98 - application/json 47
2025-10-16 08:42:20.671 +01:00 [INF] CORS policy execution successful.
2025-10-16 08:42:20.674 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.UpdateUser (UserManagement)'
2025-10-16 08:42:20.682 +01:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Int32, UserManagement.Application.DTO.UserRoleDto.UpdateUserDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-16 08:42:20.785 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-10-16 08:42:32.155 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.UpdateUser (UserManagement) in 11469.7281ms
2025-10-16 08:42:32.158 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.UpdateUser (UserManagement)'
2025-10-16 08:42:32.307 +01:00 [ERR] Unhandled exception caught in middleware: User not found.
System.Exception: User not found.
   at UserManagement.Application.Services.UserService.UpdateUser(Int32 id, UpdateUserDto dto) in C:\Users\HP\source\repos\CMS1\CMS1\Application\Services\UserService.cs:line 119
   at UserManagement.Presentation.Controllers.UserController.UpdateUser(Int32 id, UpdateUserDto dto) in C:\Users\HP\source\repos\CMS1\CMS1\Presentation\Controllers\UserController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\source\repos\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 21
2025-10-16 08:42:32.352 +01:00 [ERR] Internal Server Error
System.Exception: User not found.
   at UserManagement.Application.Services.UserService.UpdateUser(Int32 id, UpdateUserDto dto) in C:\Users\HP\source\repos\CMS1\CMS1\Application\Services\UserService.cs:line 119
   at UserManagement.Presentation.Controllers.UserController.UpdateUser(Int32 id, UpdateUserDto dto) in C:\Users\HP\source\repos\CMS1\CMS1\Presentation\Controllers\UserController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\source\repos\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 21
2025-10-16 08:42:32.358 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/User/98 - 500 null application/json 11712.241ms
2025-10-16 09:05:57.376 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:05:57.860 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:05:57.864 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:05:57.978 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:05:57.980 +01:00 [INF] Hosting environment: Development
2025-10-16 09:05:57.982 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:06:01.571 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-16 09:06:01.802 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 235.426ms
2025-10-16 09:06:01.835 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-16 09:06:01.835 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-16 09:06:01.872 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 36.4913ms
2025-10-16 09:06:01.890 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.4696ms
2025-10-16 09:06:02.062 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-16 09:06:02.107 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.4282ms
2025-10-16 09:06:30.632 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=78 - application/json 123
2025-10-16 09:06:30.644 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:06:30.714 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:06:30.738 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:06:32.598 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:06:32.786 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:06:32.793 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 2047.6532ms
2025-10-16 09:06:32.797 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:06:32.807 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=78 - 400 null text/plain; charset=utf-8 2180.0298ms
2025-10-16 09:06:50.395 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=8 - application/json 123
2025-10-16 09:06:50.400 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:06:50.403 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:06:50.406 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:06:50.475 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:06:50.590 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:06:50.593 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 184.7571ms
2025-10-16 09:06:50.595 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:06:50.597 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=8 - 400 null text/plain; charset=utf-8 202.465ms
2025-10-16 09:06:58.041 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=3 - application/json 123
2025-10-16 09:06:58.053 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:06:58.057 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:06:58.059 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:06:58.086 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:06:58.163 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:06:58.166 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 102.6013ms
2025-10-16 09:06:58.168 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:06:58.171 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=3 - 400 null text/plain; charset=utf-8 130.0798ms
2025-10-16 09:07:13.154 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=1 - application/json 123
2025-10-16 09:07:13.158 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:07:13.160 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:07:13.162 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:07:13.166 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:07:13.239 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:07:13.243 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 79.3418ms
2025-10-16 09:07:13.247 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:07:13.249 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=1 - 400 null text/plain; charset=utf-8 95.1694ms
2025-10-16 09:07:57.313 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=1 - application/json 123
2025-10-16 09:07:57.317 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:07:57.319 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:07:57.320 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:07:57.333 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:07:57.403 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:07:57.406 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 84.6842ms
2025-10-16 09:07:57.439 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:07:57.441 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=1 - 400 null text/plain; charset=utf-8 128.6601ms
2025-10-16 09:08:08.466 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:08:08.775 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:08:08.778 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:08:08.996 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:08:08.998 +01:00 [INF] Hosting environment: Development
2025-10-16 09:08:09.000 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:08:10.723 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=1 - application/json 123
2025-10-16 09:08:10.781 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:08:10.848 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:08:10.876 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:08:12.915 +01:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:08:13.133 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:08:13.143 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 2260.5029ms
2025-10-16 09:08:13.148 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:08:13.164 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=1 - 400 null text/plain; charset=utf-8 2457.6134ms
2025-10-16 09:28:50.583 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Product - null null
2025-10-16 09:28:50.657 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.GetAllProducts (UserManagement)'
2025-10-16 09:28:50.664 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:28:50.912 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
2025-10-16 09:28:51.098 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.ProductDto.ProductResponseDto, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-16 09:28:51.111 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.GetAllProducts (UserManagement) in 443.0027ms
2025-10-16 09:28:51.114 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.GetAllProducts (UserManagement)'
2025-10-16 09:28:51.117 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Product - 200 null application/json; charset=utf-8 533.485ms
2025-10-16 09:30:36.815 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:30:36.828 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:30:36.831 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:30:36.833 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:30:36.883 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:30:36.966 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:30:36.968 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 132.4366ms
2025-10-16 09:30:36.971 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:30:36.973 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 400 null text/plain; charset=utf-8 157.7202ms
2025-10-16 09:30:47.604 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:30:47.609 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:30:47.611 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:30:47.613 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:30:47.620 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:30:47.698 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:30:47.702 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 84.7765ms
2025-10-16 09:30:47.705 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:30:47.707 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 400 null text/plain; charset=utf-8 103.0254ms
2025-10-16 09:31:13.524 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:31:13.845 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:31:13.847 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:31:13.954 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:31:13.956 +01:00 [INF] Hosting environment: Development
2025-10-16 09:31:13.959 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:31:15.706 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:31:15.749 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:31:15.853 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:31:15.886 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:31:18.147 +01:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:31:18.602 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:31:18.613 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 2719.103ms
2025-10-16 09:31:18.617 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:31:18.633 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 400 null text/plain; charset=utf-8 2929.7209ms
2025-10-16 09:31:33.969 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:31:34.277 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:31:34.279 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:31:34.388 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:31:34.391 +01:00 [INF] Hosting environment: Development
2025-10-16 09:31:34.392 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:31:47.701 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=98 - application/json 123
2025-10-16 09:31:47.746 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:31:47.820 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:31:47.847 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:31:49.771 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:31:49.938 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:31:49.949 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 2092.4018ms
2025-10-16 09:31:49.952 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:31:49.966 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=98 - 400 null text/plain; charset=utf-8 2270.3644ms
2025-10-16 09:32:00.526 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:32:00.534 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:32:00.538 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:32:00.540 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:32:00.609 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:32:00.874 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:32:00.877 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 334.4406ms
2025-10-16 09:32:00.880 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:32:00.883 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 400 null text/plain; charset=utf-8 356.9255ms
2025-10-16 09:33:17.448 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:33:17.763 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:33:17.766 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:33:17.863 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:33:17.866 +01:00 [INF] Hosting environment: Development
2025-10-16 09:33:17.868 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:33:22.454 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:33:22.498 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:33:22.571 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:33:22.597 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:33:24.533 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:33:24.904 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 09:33:24.945 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'UserManagement.Infrastructure.UMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ed86171a-038a-409c-a153-974a62174a3c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ed86171a-038a-409c-a153-974a62174a3c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-16 09:33:25.277 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:33:25.288 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 2683.7372ms
2025-10-16 09:33:25.292 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:33:25.308 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 400 null text/plain; charset=utf-8 2857.989ms
2025-10-16 09:33:54.968 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:33:54.975 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:33:54.978 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:33:54.981 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:33:55.049 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:33:55.060 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 09:33:55.068 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'UserManagement.Infrastructure.UMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ed86171a-038a-409c-a153-974a62174a3c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ed86171a-038a-409c-a153-974a62174a3c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-16 09:33:55.361 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:33:55.367 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 383.0642ms
2025-10-16 09:33:55.369 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:33:55.371 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 400 null text/plain; charset=utf-8 403.1673ms
2025-10-16 09:34:32.672 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:34:33.101 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:34:33.106 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:34:33.240 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:34:33.242 +01:00 [INF] Hosting environment: Development
2025-10-16 09:34:33.243 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:34:37.820 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:34:37.863 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:34:37.930 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:34:37.954 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:34:39.922 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:34:40.277 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 09:34:40.315 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'UserManagement.Infrastructure.UMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95e3572a-d8cc-4ca2-9666-d77a9bf776bd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95e3572a-d8cc-4ca2-9666-d77a9bf776bd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-16 09:34:40.625 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:34:40.635 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 2673.0709ms
2025-10-16 09:34:40.639 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:34:40.652 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 400 null text/plain; charset=utf-8 2835.2418ms
2025-10-16 09:37:22.360 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:37:22.657 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:37:22.661 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:37:22.757 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:37:22.760 +01:00 [INF] Hosting environment: Development
2025-10-16 09:37:22.761 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:37:36.606 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:37:36.646 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:37:36.717 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-16 09:37:36.720 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-16 09:37:36.725 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 405 0 null 123.0228ms
2025-10-16 09:37:43.343 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:37:43.349 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:37:43.351 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-16 09:37:43.353 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-16 09:37:43.355 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 405 0 null 11.8391ms
2025-10-16 09:37:52.253 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=9 - application/json 123
2025-10-16 09:37:52.268 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:37:52.273 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-16 09:37:52.276 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-16 09:37:52.279 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=9 - 405 0 null 25.9667ms
2025-10-16 09:37:58.859 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=98 - application/json 123
2025-10-16 09:37:58.866 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:37:58.874 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-16 09:37:58.876 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-16 09:37:58.881 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=98 - 405 0 null 21.881ms
2025-10-16 09:38:10.103 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:38:10.405 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:38:10.409 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:38:10.508 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:38:10.511 +01:00 [INF] Hosting environment: Development
2025-10-16 09:38:10.513 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:38:10.985 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product?id=98 - application/json 123
2025-10-16 09:38:11.027 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:38:11.139 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-16 09:38:11.142 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-16 09:38:11.149 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product?id=98 - 405 0 null 167.9944ms
2025-10-16 09:38:18.566 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-16 09:38:18.734 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 167.387ms
2025-10-16 09:38:18.749 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-16 09:38:18.749 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-16 09:38:18.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 20.4622ms
2025-10-16 09:38:18.792 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.6872ms
2025-10-16 09:38:18.935 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-16 09:38:18.981 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.8412ms
2025-10-16 09:38:32.558 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/98 - application/json 123
2025-10-16 09:38:32.565 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:38:32.567 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:38:32.593 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:38:34.314 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:38:34.494 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:38:34.503 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 1901.4467ms
2025-10-16 09:38:34.507 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:38:34.515 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/98 - 400 null text/plain; charset=utf-8 1956.9869ms
2025-10-16 09:38:41.315 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 09:38:41.321 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:38:41.325 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:38:41.326 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:38:41.411 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:38:41.772 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 09:38:41.818 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'UserManagement.Infrastructure.UMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:499c59fd-4a79-46a5-b977-04d419d1cfba
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:499c59fd-4a79-46a5-b977-04d419d1cfba
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-16 09:38:42.096 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:38:42.100 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 769.5286ms
2025-10-16 09:38:42.102 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:38:42.105 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 400 null text/plain; charset=utf-8 789.9769ms
2025-10-16 09:40:26.035 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:40:26.345 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:40:26.349 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:40:26.560 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:40:26.563 +01:00 [INF] Hosting environment: Development
2025-10-16 09:40:26.565 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:44:15.961 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Product - null null
2025-10-16 09:44:16.093 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.GetAllProducts (UserManagement)'
2025-10-16 09:44:16.115 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:44:17.894 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
2025-10-16 09:44:18.127 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.ProductDto.ProductResponseDto, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-16 09:44:18.151 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.GetAllProducts (UserManagement) in 2028.8705ms
2025-10-16 09:44:18.155 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.GetAllProducts (UserManagement)'
2025-10-16 09:44:18.169 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Product - 200 null application/json; charset=utf-8 2212.0994ms
2025-10-16 09:44:44.831 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 131
2025-10-16 09:44:44.841 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:44:44.845 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:44:44.858 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:44:45.055 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:44:45.235 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:44:45.240 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 377.1306ms
2025-10-16 09:44:45.243 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:44:45.245 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 400 null text/plain; charset=utf-8 455.514ms
2025-10-16 09:45:40.765 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:45:41.058 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:45:41.061 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:45:41.175 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:45:41.177 +01:00 [INF] Hosting environment: Development
2025-10-16 09:45:41.178 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:45:41.320 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 131
2025-10-16 09:45:41.378 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:45:41.477 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:45:41.508 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:45:43.384 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:45:43.723 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:45:43.734 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 2218.379ms
2025-10-16 09:45:43.737 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:45:43.750 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 400 null text/plain; charset=utf-8 2436.3162ms
2025-10-16 09:46:47.189 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-16 09:46:47.340 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 151.6711ms
2025-10-16 09:46:47.447 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-16 09:46:47.447 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-16 09:46:47.473 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 25.861ms
2025-10-16 09:46:47.518 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.4287ms
2025-10-16 09:46:47.604 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-16 09:46:47.642 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.7357ms
2025-10-16 09:47:02.880 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/98 - application/json 123
2025-10-16 09:47:02.887 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:47:02.889 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:47:02.895 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:47:02.971 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:47:03.077 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:47:03.081 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 183.8846ms
2025-10-16 09:47:03.086 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:47:03.089 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/98 - 400 null text/plain; charset=utf-8 209.5068ms
2025-10-16 09:47:09.003 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 09:47:09.010 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:47:09.014 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:47:09.016 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:47:09.037 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:47:09.130 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:47:09.134 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 115.1603ms
2025-10-16 09:47:09.137 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:47:09.139 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 400 null text/plain; charset=utf-8 136.711ms
2025-10-16 09:57:01.950 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:57:02.348 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:57:02.351 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:57:02.608 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:57:02.610 +01:00 [INF] Hosting environment: Development
2025-10-16 09:57:02.611 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:57:06.978 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Product - null null
2025-10-16 09:57:07.089 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Product - 404 0 null 116.3587ms
2025-10-16 09:57:07.097 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7153/api/Product, Response status code: 404
2025-10-16 09:57:19.513 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 09:57:19.523 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:57:19.527 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 404 0 null 13.9972ms
2025-10-16 09:57:19.537 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PUT https://localhost:7153/api/Product/9, Response status code: 404
2025-10-16 09:57:38.536 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 09:57:38.950 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 09:57:38.953 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 09:57:39.035 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 09:57:39.083 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:57:39.297 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:57:39.328 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:57:39.460 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 09:57:39.462 +01:00 [INF] Hosting environment: Development
2025-10-16 09:57:39.469 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 09:57:41.247 +01:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:57:41.618 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 09:57:41.653 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'UserManagement.Infrastructure.UMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee8eaef-5516-4234-975b-eabe91844ba3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee8eaef-5516-4234-975b-eabe91844ba3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-16 09:57:41.962 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 09:57:41.974 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 2638.3723ms
2025-10-16 09:57:41.978 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:57:41.990 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 400 null text/plain; charset=utf-8 2962.6252ms
2025-10-16 09:58:51.798 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Product - null null
2025-10-16 09:58:51.817 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.GetAllProducts (UserManagement)'
2025-10-16 09:58:51.826 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:58:51.959 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
2025-10-16 09:58:52.005 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.ProductDto.ProductResponseDto, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-16 09:58:52.017 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.GetAllProducts (UserManagement) in 186.5231ms
2025-10-16 09:58:52.020 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.GetAllProducts (UserManagement)'
2025-10-16 09:58:52.023 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Product - 200 null application/json; charset=utf-8 225.3285ms
2025-10-16 09:59:02.611 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 09:59:02.624 +01:00 [INF] CORS policy execution successful.
2025-10-16 09:59:02.631 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:59:02.633 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 09:59:02.668 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 09:59:02.685 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 09:59:02.697 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 09:59:02.701 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 64.6756ms
2025-10-16 09:59:02.703 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 09:59:02.705 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 94.4436ms
2025-10-16 10:00:09.693 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:00:09.699 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:00:09.700 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:00:09.703 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:00:09.725 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:00:09.739 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:00:09.748 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'UserManagement.Infrastructure.UMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee8eaef-5516-4234-975b-eabe91844ba3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee8eaef-5516-4234-975b-eabe91844ba3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-16 10:00:09.996 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 10:00:10.000 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 292.6589ms
2025-10-16 10:00:10.008 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:00:10.010 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 400 null text/plain; charset=utf-8 316.9141ms
2025-10-16 10:00:20.070 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:00:20.075 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:00:20.077 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:00:20.079 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:00:20.084 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:00:20.088 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:00:20.095 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'UserManagement.Infrastructure.UMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductType_ProductTypeId". The conflict occurred in database "UMSDB", table "dbo.ProductType", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee8eaef-5516-4234-975b-eabe91844ba3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductType_ProductTypeId". The conflict occurred in database "UMSDB", table "dbo.ProductType", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee8eaef-5516-4234-975b-eabe91844ba3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-16 10:00:20.299 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-16 10:00:20.303 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 222.1873ms
2025-10-16 10:00:20.307 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:00:20.309 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 400 null text/plain; charset=utf-8 239.0839ms
2025-10-16 10:19:50.182 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 10:19:50.512 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 10:19:50.514 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 10:19:50.746 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 10:19:50.749 +01:00 [INF] Hosting environment: Development
2025-10-16 10:19:50.751 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 10:19:54.889 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 122
2025-10-16 10:19:54.930 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:19:55.010 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:19:55.040 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:19:56.337 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-16 10:19:56.375 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 1327.478ms
2025-10-16 10:19:56.378 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:19:56.389 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 400 null application/problem+json; charset=utf-8 1503.7014ms
2025-10-16 10:20:11.692 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:20:11.698 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:20:11.701 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:20:11.704 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:20:12.585 +01:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:20:12.943 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:20:12.965 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:20:12.976 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 1269.3105ms
2025-10-16 10:20:12.979 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:20:12.989 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 1296.8838ms
2025-10-16 10:20:41.145 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:20:41.182 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:20:41.186 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:20:41.188 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:20:41.226 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:20:41.241 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:20:41.244 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:20:41.245 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 53.4944ms
2025-10-16 10:20:41.247 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:20:41.249 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 103.8612ms
2025-10-16 10:20:47.427 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:20:47.436 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:20:47.439 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:20:47.441 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:20:47.449 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:20:47.463 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:20:47.469 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:20:47.472 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 27.3561ms
2025-10-16 10:20:47.474 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:20:47.475 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 48.1459ms
2025-10-16 10:21:09.050 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:21:09.070 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:21:09.073 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:09.075 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:21:09.096 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:21:09.108 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:21:09.113 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:21:09.115 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 35.1775ms
2025-10-16 10:21:09.118 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:09.120 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 70.2516ms
2025-10-16 10:21:16.642 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:21:16.646 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:21:16.656 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:16.658 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:21:16.668 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:21:16.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:21:16.678 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:21:16.680 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 16.7548ms
2025-10-16 10:21:16.683 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:16.684 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 42.9472ms
2025-10-16 10:21:22.228 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:21:22.234 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:21:22.235 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:22.236 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:21:22.241 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:21:22.249 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:21:22.252 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:21:22.254 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 16.0997ms
2025-10-16 10:21:22.256 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:22.258 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 29.6142ms
2025-10-16 10:21:33.524 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:21:33.529 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:21:33.531 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:33.533 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:21:33.547 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:21:33.559 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:21:33.565 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:21:33.567 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 31.7615ms
2025-10-16 10:21:33.570 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:33.571 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 47.2736ms
2025-10-16 10:21:35.161 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:21:35.166 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:21:35.167 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:35.169 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:21:35.174 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:21:35.180 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:21:35.186 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:21:35.187 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 16.3588ms
2025-10-16 10:21:35.189 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:21:35.190 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 28.9012ms
2025-10-16 10:27:31.316 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:27:31.338 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:27:31.340 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:31.343 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:27:31.371 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:27:31.381 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:27:31.385 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:27:31.388 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 42.9023ms
2025-10-16 10:27:31.391 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:31.392 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 76.5545ms
2025-10-16 10:27:34.785 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:27:34.790 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:27:34.791 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:34.793 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:27:34.798 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:27:34.805 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:27:34.809 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:27:34.810 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 14.8507ms
2025-10-16 10:27:34.812 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:34.814 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 28.456ms
2025-10-16 10:27:35.918 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:27:35.923 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:27:35.924 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:35.937 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:27:35.956 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:27:35.973 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:27:35.977 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:27:35.979 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 37.3817ms
2025-10-16 10:27:35.981 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:35.982 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 63.8701ms
2025-10-16 10:27:37.514 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:27:37.518 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:27:37.519 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:37.520 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:27:37.539 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:27:37.551 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:27:37.555 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:27:37.557 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 34.4434ms
2025-10-16 10:27:37.559 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:37.560 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 46.8824ms
2025-10-16 10:27:48.569 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:27:48.574 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:27:48.575 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:48.577 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:27:48.593 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:27:48.606 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:27:48.609 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:27:48.610 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 29.87ms
2025-10-16 10:27:48.612 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:27:48.614 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 44.7032ms
2025-10-16 10:29:17.771 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:29:17.782 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:29:17.783 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:17.785 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:29:17.808 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:29:17.818 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:29:17.824 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:29:17.827 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 39.1778ms
2025-10-16 10:29:17.829 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:17.831 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 60.4546ms
2025-10-16 10:29:19.021 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:29:19.025 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:29:19.026 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:19.028 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:29:19.033 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:29:19.042 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:29:19.046 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:29:19.049 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 18.5206ms
2025-10-16 10:29:19.051 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:19.053 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 32.3153ms
2025-10-16 10:29:20.530 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:29:20.534 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:29:20.537 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:20.539 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:29:20.545 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:29:20.554 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:29:20.559 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:29:20.561 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 19.3728ms
2025-10-16 10:29:20.562 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:20.564 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 33.7542ms
2025-10-16 10:29:28.299 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:29:28.303 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:29:28.305 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:28.307 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:29:28.314 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:29:28.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:29:28.321 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:29:28.323 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 14.2942ms
2025-10-16 10:29:28.325 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:28.328 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 28.9001ms
2025-10-16 10:29:30.450 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:29:30.457 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:29:30.458 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:30.460 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:29:30.466 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:29:30.474 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:29:30.479 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:29:30.482 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 18.5312ms
2025-10-16 10:29:30.484 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:29:30.486 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 35.8961ms
2025-10-16 10:30:54.907 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 111
2025-10-16 10:30:54.911 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:30:54.912 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:30:54.913 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:30:54.927 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:30:54.942 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:30:54.946 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:30:54.949 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 31.8647ms
2025-10-16 10:30:54.957 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:30:54.958 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 51.538ms
2025-10-16 10:30:58.334 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 111
2025-10-16 10:30:58.339 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:30:58.341 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:30:58.342 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:30:58.360 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:30:58.377 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:30:58.383 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:30:58.385 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 41.0518ms
2025-10-16 10:30:58.388 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:30:58.389 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 54.9756ms
2025-10-16 10:41:29.087 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-16 10:41:29.232 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 144.6884ms
2025-10-16 10:41:29.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-16 10:41:29.252 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-16 10:41:29.307 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 58.1535ms
2025-10-16 10:41:29.331 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.1065ms
2025-10-16 10:41:29.512 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-16 10:41:29.539 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.9639ms
2025-10-16 10:41:47.326 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/98 - application/json 123
2025-10-16 10:41:47.330 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:41:47.332 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:41:47.340 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:41:47.371 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:41:47.494 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType13`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-16 10:41:47.500 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 156.8599ms
2025-10-16 10:41:47.503 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:41:47.506 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/98 - 400 null application/json; charset=utf-8 180.2772ms
2025-10-16 10:41:53.541 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:41:53.548 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:41:53.549 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:41:53.551 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:41:53.569 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:41:53.583 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [ProductDescription] = @p0, [ProductName] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-10-16 10:41:53.586 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:41:53.589 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 35.6544ms
2025-10-16 10:41:53.591 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:41:53.592 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 51.6672ms
2025-10-16 10:42:00.368 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:42:00.373 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:42:00.375 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:42:00.376 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:42:00.390 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:42:00.394 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:42:00.396 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 17.2882ms
2025-10-16 10:42:00.397 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:42:00.399 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 30.4121ms
2025-10-16 10:42:01.658 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:42:01.662 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:42:01.665 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:42:01.667 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:42:01.673 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:42:01.676 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:42:01.678 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 8.2932ms
2025-10-16 10:42:01.679 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:42:01.680 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 22.7869ms
2025-10-16 10:42:11.988 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:42:11.992 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:42:11.994 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:42:11.997 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:42:12.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:42:12.010 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [ProductStatusId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-16 10:42:12.014 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:42:12.015 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 15.6837ms
2025-10-16 10:42:12.017 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:42:12.019 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 30.9862ms
2025-10-16 10:42:14.437 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:42:14.442 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:42:14.443 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:42:14.445 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:42:14.449 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:42:14.453 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:42:14.455 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 8.1396ms
2025-10-16 10:42:14.457 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:42:14.458 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 21.4071ms
2025-10-16 10:43:47.422 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-16 10:43:47.433 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 11.3159ms
2025-10-16 10:43:47.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-16 10:43:47.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-16 10:43:47.462 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 7.1751ms
2025-10-16 10:43:47.483 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.38ms
2025-10-16 10:43:47.713 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-16 10:43:47.772 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.5937ms
2025-10-16 10:43:57.950 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:43:57.959 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:43:57.961 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:43:57.965 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:43:57.983 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:43:58.025 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:43:58.035 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:43:58.039 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 71.345ms
2025-10-16 10:43:58.042 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:43:58.044 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 93.4486ms
2025-10-16 10:44:05.633 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:44:05.638 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:44:05.640 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:44:05.641 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:44:05.660 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:44:05.666 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:44:05.671 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:44:05.675 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 31.1186ms
2025-10-16 10:44:05.677 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:44:05.679 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 45.2425ms
2025-10-16 10:44:16.987 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:44:16.992 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:44:16.994 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:44:16.996 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:44:17.009 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:44:17.016 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [ProductStatusId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-16 10:44:17.023 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:44:17.027 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:44:17.029 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 30.6159ms
2025-10-16 10:44:17.031 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:44:17.033 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 45.3941ms
2025-10-16 10:44:18.445 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:44:18.450 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:44:18.451 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:44:18.453 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:44:18.459 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:44:18.463 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:44:18.466 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:44:18.468 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 11.8578ms
2025-10-16 10:44:18.470 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:44:18.472 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 27.6673ms
2025-10-16 10:48:40.222 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-16 10:48:40.232 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 10.12ms
2025-10-16 10:48:40.255 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/swagger-ui.css - null null
2025-10-16 10:48:40.255 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.css - null null
2025-10-16 10:48:40.255 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/swagger-ui-bundle.js - null null
2025-10-16 10:48:40.265 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/swagger-ui.css - 304 null null 10.1518ms
2025-10-16 10:48:40.265 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.css - 304 null null 10.1124ms
2025-10-16 10:48:40.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/swagger-ui-standalone-preset.js - null null
2025-10-16 10:48:40.287 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/swagger-ui-bundle.js - 304 null null 31.4706ms
2025-10-16 10:48:40.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.js - null null
2025-10-16 10:48:40.296 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-16 10:48:40.330 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/swagger-ui-standalone-preset.js - 304 null null 52.2818ms
2025-10-16 10:48:40.335 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.js - 200 null application/javascript;charset=utf-8 57.3142ms
2025-10-16 10:48:40.339 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 43.5866ms
2025-10-16 10:48:40.446 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-16 10:48:40.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.699ms
2025-10-16 10:48:40.542 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-16 10:48:40.542 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/favicon-32x32.png - null null
2025-10-16 10:48:40.552 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/favicon-32x32.png - 304 null null 9.5321ms
2025-10-16 10:48:40.559 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.6026ms
2025-10-16 10:48:52.911 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:48:52.917 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:48:52.918 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:48:52.924 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:48:52.975 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:48:52.991 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:48:53.007 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:48:53.013 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:48:53.017 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 89.4161ms
2025-10-16 10:48:53.019 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:48:53.021 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 109.6385ms
2025-10-16 10:49:02.632 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:49:02.639 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:49:02.641 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:49:02.643 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:49:02.650 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:49:02.662 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:49:02.675 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:49:02.681 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:49:02.684 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 37.4376ms
2025-10-16 10:49:02.685 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:49:02.687 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 54.5527ms
2025-10-16 10:49:14.157 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:49:14.161 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:49:14.163 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:49:14.165 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:49:14.170 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:49:14.174 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:49:14.177 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:49:14.181 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:49:14.182 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 14.7243ms
2025-10-16 10:49:14.184 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:49:14.185 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 27.9977ms
2025-10-16 10:49:22.016 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:49:22.022 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:49:22.024 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:49:22.025 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:49:22.029 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:49:22.033 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:49:22.036 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:49:22.040 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:49:22.041 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 14.1819ms
2025-10-16 10:49:22.043 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:49:22.044 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 28.147ms
2025-10-16 10:54:14.362 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 10:54:14.705 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 10:54:14.708 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 10:54:14.982 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 10:54:14.984 +01:00 [INF] Hosting environment: Development
2025-10-16 10:54:14.986 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 10:54:15.449 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:54:15.496 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:54:15.587 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:54:15.613 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:54:17.445 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:54:17.717 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:54:17.854 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:54:17.960 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:54:17.978 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 2356.5693ms
2025-10-16 10:54:17.982 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:54:17.995 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 2549.9981ms
2025-10-16 10:54:27.553 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:54:27.559 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:54:27.562 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:54:27.564 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:54:27.626 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:54:27.646 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:54:27.689 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'UserManagement.Infrastructure.UMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4837e347-e1b8-4d53-8676-801abb204da5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Product_ProductStatus_ProductStatusId". The conflict occurred in database "UMSDB", table "dbo.ProductStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4837e347-e1b8-4d53-8676-801abb204da5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-16 10:54:28.026 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType13`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-16 10:54:28.033 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 465.6171ms
2025-10-16 10:54:28.036 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:54:28.040 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 400 null application/json; charset=utf-8 487.37ms
2025-10-16 10:54:51.721 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Product/9 - application/json 123
2025-10-16 10:54:51.744 +01:00 [INF] CORS policy execution successful.
2025-10-16 10:54:51.749 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:54:51.750 +01:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateProduct(Int32, UserManagement.Application.DTO.ProductDto.UpdateProductDto) on controller UserManagement.Presentation.Controllers.ProductController (UserManagement).
2025-10-16 10:54:51.774 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt]
FROM [Product] AS [p]
WHERE [p].[Id] = @__p_0
2025-10-16 10:54:51.787 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Product] SET [AssignedToId] = @p0, [AvailabilityMessage] = @p1, [CreatedAt] = @p2, [CreatedById] = @p3, [CustomerId] = @p4, [DepartmentId] = @p5, [Price] = @p6, [ProductCategoryId] = @p7, [ProductCode] = @p8, [ProductDescription] = @p9, [ProductName] = @p10, [ProductStatusId] = @p11, [ProductTypeId] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-10-16 10:54:51.806 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AssignedToId], [p].[AvailabilityMessage], [p].[CreatedAt], [p].[CreatedById], [p].[CustomerId], [p].[DepartmentId], [p].[Price], [p].[ProductCategoryId], [p].[ProductCode], [p].[ProductDescription], [p].[ProductName], [p].[ProductStatusId], [p].[ProductTypeId], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e0].[Id], [e0].[CreatedAt], [e0].[DOB], [e0].[DepartmentId], [e0].[Email], [e0].[Firstname], [e0].[Gender], [e0].[IsActive], [e0].[JobTitleId], [e0].[Lastname], [e0].[Middlename], [e0].[Phone], [e0].[RoleId], [e0].[UpdatedAt], [p0].[Id], [p0].[Description], [p0].[Name], [p1].[Id], [p1].[Description], [p1].[Name], [p2].[Id], [p2].[Description], [p2].[Name], [c].[Id], [c].[ContactAddress], [c].[CreatedAt], [c].[DateOfBirth], [c].[Email], [c].[Firstname], [c].[Gender], [c].[IsActive], [c].[Lastname], [c].[Middlename], [c].[PhoneNumber], [c].[UpdatedAt]
FROM [Product] AS [p]
LEFT JOIN [Departments] AS [d] ON [p].[DepartmentId] = [d].[Id]
LEFT JOIN [Employees] AS [e] ON [p].[CreatedById] = [e].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[AssignedToId] = [e0].[Id]
INNER JOIN [ProductCategory] AS [p0] ON [p].[ProductCategoryId] = [p0].[Id]
INNER JOIN [ProductType] AS [p1] ON [p].[ProductTypeId] = [p1].[Id]
INNER JOIN [ProductStatus] AS [p2] ON [p].[ProductStatusId] = [p2].[Id]
LEFT JOIN [Customer] AS [c] ON [p].[CustomerId] = [c].[Id]
WHERE [p].[Id] = @__id_0
2025-10-16 10:54:51.813 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.ProductDto.ProductResponseDto'.
2025-10-16 10:54:51.816 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement) in 63.1468ms
2025-10-16 10:54:51.819 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.ProductController.UpdateProduct (UserManagement)'
2025-10-16 10:54:51.820 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Product/9 - 200 null application/json; charset=utf-8 99.2932ms
2025-10-16 12:12:27.802 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 12:12:28.158 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 12:12:28.161 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 12:12:28.270 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 12:12:28.272 +01:00 [INF] Hosting environment: Development
2025-10-16 12:12:28.274 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 12:14:07.169 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Dept - null null
2025-10-16 12:14:07.306 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.DeptController.GetDepartments (UserManagement)'
2025-10-16 12:14:07.334 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller UserManagement.Presentation.Controllers.DeptController (UserManagement).
2025-10-16 12:14:09.336 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-10-16 12:14:09.434 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-10-16 12:14:09.450 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.DepartmentDto.DepartmentResponseDto'.
2025-10-16 12:14:09.467 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.DeptController.GetDepartments (UserManagement) in 2124.9584ms
2025-10-16 12:14:09.470 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.DeptController.GetDepartments (UserManagement)'
2025-10-16 12:14:09.485 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Dept - 200 null application/json; charset=utf-8 2319.4265ms
2025-10-16 12:14:35.471 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-16 12:14:35.484 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-16 12:14:35.491 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.RoleResponseDto]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-16 12:14:35.594 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[RoleName], [r].[UpdatedAt]
FROM [Roles] AS [r]
2025-10-16 12:14:35.632 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.RoleResponseDto, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-16 12:14:35.638 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 142.8775ms
2025-10-16 12:14:35.642 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-16 12:14:35.648 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 179.9092ms
2025-10-16 12:15:02.075 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Employee - application/json 219
2025-10-16 12:15:02.088 +01:00 [INF] CORS policy execution successful.
2025-10-16 12:15:02.094 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-16 12:15:02.108 +01:00 [INF] Route matched with {action = "Register", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] Register(UserManagement.Application.DTO.EmployeeDto.CreateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-16 12:15:02.341 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-16 12:15:02.598 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Date), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([CreatedAt], [DOB], [DepartmentId], [Email], [Firstname], [Gender], [IsActive], [JobTitleId], [Lastname], [Middlename], [Phone], [RoleId], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-10-16 12:15:02.792 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__employees_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [r].[Id], [r].[CreatedAt], [r].[RoleName], [r].[UpdatedAt]
FROM [Employees] AS [e]
INNER JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
WHERE [e].[Id] = @__employees_Id_0
2025-10-16 12:15:02.839 +01:00 [INF] Executing ObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.EmployeeResponse'.
2025-10-16 12:15:02.862 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement) in 749.9479ms
2025-10-16 12:15:02.870 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-16 12:15:02.873 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Employee - 201 null application/json; charset=utf-8 797.9002ms
2025-10-16 12:17:14.839 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Employee - application/json 219
2025-10-16 12:17:14.857 +01:00 [INF] CORS policy execution successful.
2025-10-16 12:17:14.859 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-16 12:17:14.862 +01:00 [INF] Route matched with {action = "Register", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] Register(UserManagement.Application.DTO.EmployeeDto.CreateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-16 12:17:14.885 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-16 12:17:36.055 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement) in 21190.1884ms
2025-10-16 12:17:36.058 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-16 12:17:36.087 +01:00 [ERR] Unhandled exception caught in middleware: Employee already exists.
System.Exception: Employee already exists.
   at UserManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployee dto)
   at UserManagement.Presentation.Controllers.EmployeeController.Register(CreateEmployee dto)
   at lambda_method134(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context)
2025-10-16 12:17:36.134 +01:00 [ERR] Internal Server Error
System.Exception: Employee already exists.
   at UserManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployee dto)
   at UserManagement.Presentation.Controllers.EmployeeController.Register(CreateEmployee dto)
   at lambda_method134(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context)
2025-10-16 12:17:36.143 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Employee - 500 null application/json 21304.2806ms
2025-10-16 12:17:37.071 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-16 12:17:37.375 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 304.8409ms
2025-10-16 12:17:37.401 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-16 12:17:37.401 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-16 12:17:37.432 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 31.6798ms
2025-10-16 12:17:37.469 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.1351ms
2025-10-16 12:17:37.664 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-16 12:17:37.722 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.793ms
2025-10-16 12:27:37.607 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-16 12:27:37.623 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-16 12:27:37.628 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.RoleResponseDto]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-16 12:27:37.653 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[RoleName], [r].[UpdatedAt]
FROM [Roles] AS [r]
2025-10-16 12:27:37.660 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.RoleResponseDto, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-16 12:27:37.663 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 30.9744ms
2025-10-16 12:27:37.665 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-16 12:27:37.667 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 59.8193ms
2025-10-16 12:27:53.993 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Employee - application/json 219
2025-10-16 12:27:53.998 +01:00 [INF] CORS policy execution successful.
2025-10-16 12:27:54.000 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-16 12:27:54.005 +01:00 [INF] Route matched with {action = "Register", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] Register(UserManagement.Application.DTO.EmployeeDto.CreateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-16 12:27:54.018 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-16 12:27:54.030 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Date), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([CreatedAt], [DOB], [DepartmentId], [Email], [Firstname], [Gender], [IsActive], [JobTitleId], [Lastname], [Middlename], [Phone], [RoleId], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-10-16 12:27:54.042 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employees_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [r].[Id], [r].[CreatedAt], [r].[RoleName], [r].[UpdatedAt]
FROM [Employees] AS [e]
INNER JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
WHERE [e].[Id] = @__employees_Id_0
2025-10-16 12:28:09.333 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement) in 15324.7705ms
2025-10-16 12:28:09.337 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-16 12:28:09.538 +01:00 [ERR] Unhandled exception caught in middleware: Error mapping types.

Mapping types:
Employee -> EmployeeResponse
UserManagement.Domain.Entities.Employee -> UserManagement.Application.DTO.EmployeeDto.EmployeeResponse

Type Map configuration:
Employee -> EmployeeResponse
UserManagement.Domain.Entities.Employee -> UserManagement.Application.DTO.EmployeeDto.EmployeeResponse

Destination Member:
DepartmentId

AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Employee -> EmployeeResponse
UserManagement.Domain.Entities.Employee -> UserManagement.Application.DTO.EmployeeDto.EmployeeResponse

Type Map configuration:
Employee -> EmployeeResponse
UserManagement.Domain.Entities.Employee -> UserManagement.Application.DTO.EmployeeDto.EmployeeResponse

Destination Member:
DepartmentId

 ---> System.Runtime.CompilerServices.HotReloadException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at UserManagement.Application.DTO.EmployeeDto.EmployeeResponse.set_DepartmentId(Nullable`1 value)
   at lambda_method363(Closure, Object, EmployeeResponse, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method363(Closure, Object, EmployeeResponse, ResolutionContext)
   at UserManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployee dto)
   at UserManagement.Presentation.Controllers.EmployeeController.Register(CreateEmployee dto)
   at lambda_method375(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context)
2025-10-16 12:28:09.550 +01:00 [ERR] Internal Server Error
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Employee -> EmployeeResponse
UserManagement.Domain.Entities.Employee -> UserManagement.Application.DTO.EmployeeDto.EmployeeResponse

Type Map configuration:
Employee -> EmployeeResponse
UserManagement.Domain.Entities.Employee -> UserManagement.Application.DTO.EmployeeDto.EmployeeResponse

Destination Member:
DepartmentId

 ---> System.Runtime.CompilerServices.HotReloadException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at UserManagement.Application.DTO.EmployeeDto.EmployeeResponse.set_DepartmentId(Nullable`1 value)
   at lambda_method363(Closure, Object, EmployeeResponse, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method363(Closure, Object, EmployeeResponse, ResolutionContext)
   at UserManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployee dto)
   at UserManagement.Presentation.Controllers.EmployeeController.Register(CreateEmployee dto)
   at lambda_method375(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context)
2025-10-16 12:28:09.562 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Employee - 500 null application/json 15569.1428ms
2025-10-16 12:28:31.720 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-16 12:28:32.079 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-16 12:28:32.084 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-16 12:28:32.181 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-16 12:28:32.184 +01:00 [INF] Hosting environment: Development
2025-10-16 12:28:32.186 +01:00 [INF] Content root path: C:\Users\HP\source\repos\CMS1\CMS1
2025-10-16 12:28:34.233 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Employee - application/json 219
2025-10-16 12:28:34.280 +01:00 [INF] CORS policy execution successful.
2025-10-16 12:28:34.362 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-16 12:28:34.386 +01:00 [INF] Route matched with {action = "Register", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] Register(UserManagement.Application.DTO.EmployeeDto.CreateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-16 12:28:36.103 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-16 12:30:09.790 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement) in 95395.8691ms
2025-10-16 12:30:09.793 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-16 12:30:09.818 +01:00 [ERR] Unhandled exception caught in middleware: Employee already exists.
System.ArgumentException: Employee already exists.
   at UserManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployee dto) in C:\Users\HP\source\repos\CMS1\CMS1\Application\Services\EmployeeService.cs:line 35
   at UserManagement.Presentation.Controllers.EmployeeController.Register(CreateEmployee dto) in C:\Users\HP\source\repos\CMS1\CMS1\Presentation\Controllers\EmployeeController.cs:line 38
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\source\repos\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 21
2025-10-16 12:30:09.864 +01:00 [ERR] Internal Server Error
System.ArgumentException: Employee already exists.
   at UserManagement.Application.Services.EmployeeService.CreateEmployee(CreateEmployee dto) in C:\Users\HP\source\repos\CMS1\CMS1\Application\Services\EmployeeService.cs:line 35
   at UserManagement.Presentation.Controllers.EmployeeController.Register(CreateEmployee dto) in C:\Users\HP\source\repos\CMS1\CMS1\Presentation\Controllers\EmployeeController.cs:line 38
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\source\repos\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 21
2025-10-16 12:30:09.895 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Employee - 500 null application/json 95665.8438ms
