2025-10-22 09:28:06.648 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-22 09:28:07.339 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-22 09:28:07.344 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-22 09:28:07.539 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-22 09:28:07.543 +01:00 [INF] Hosting environment: Development
2025-10-22 09:28:07.546 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-22 09:28:32.572 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-22 09:28:33.060 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/index.html
2025-10-22 09:28:33.342 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 782.3613ms
2025-10-22 09:28:33.370 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-22 09:28:33.370 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-22 09:28:33.438 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 68.4083ms
2025-10-22 09:28:33.573 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 203.1901ms
2025-10-22 09:28:33.632 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-22 09:28:33.648 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-22 09:28:33.725 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.4557ms
2025-10-22 10:18:53.955 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-22 10:18:53.966 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 18.7341ms
2025-10-22 10:18:54.270 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-22 10:18:54.285 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-22 10:18:54.341 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.6752ms
2025-10-22 10:43:28.771 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-22 10:43:28.837 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 10:43:29.168 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 10:43:29.250 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.RoleResponseDto]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 10:43:36.004 +01:00 [INF] Executed DbCommand (142ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
FROM [Roles] AS [r]
2025-10-22 10:43:36.524 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.RoleResponseDto, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-22 10:43:36.565 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 7272.5204ms
2025-10-22 10:43:36.573 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 10:43:36.624 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 7852.9445ms
2025-10-22 10:44:15.578 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Roles/1/permissions - application/json 7
2025-10-22 10:44:15.634 +01:00 [INF] CORS policy execution successful.
2025-10-22 10:44:15.644 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles/1/permissions
2025-10-22 10:44:15.655 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 10:44:15.708 +01:00 [INF] Route matched with {action = "AssignPermissionToRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignPermissionToRole(Int32, System.Collections.Generic.List`1[System.Int32]) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 10:44:16.796 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__roleId_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 10:44:33.762 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-22 10:44:33.779 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement) in 18055.195ms
2025-10-22 10:44:33.787 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 10:44:33.794 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Roles/1/permissions - 404 null application/json; charset=utf-8 18216.8248ms
2025-10-22 10:44:36.309 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Roles/1/permissions - application/json 7
2025-10-22 10:44:36.333 +01:00 [INF] CORS policy execution successful.
2025-10-22 10:44:36.339 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles/1/permissions
2025-10-22 10:44:36.354 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 10:44:36.363 +01:00 [INF] Route matched with {action = "AssignPermissionToRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignPermissionToRole(Int32, System.Collections.Generic.List`1[System.Int32]) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 10:44:36.724 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__roleId_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 10:44:37.036 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-22 10:44:37.048 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement) in 669.9637ms
2025-10-22 10:44:37.058 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 10:44:37.066 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Roles/1/permissions - 404 null application/json; charset=utf-8 757.0547ms
2025-10-22 10:46:30.186 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Permission - null null
2025-10-22 10:46:30.211 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Permission
2025-10-22 10:46:30.216 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.PermissionController.GetPermission (UserManagement)'
2025-10-22 10:46:30.229 +01:00 [INF] Route matched with {action = "GetPermission", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPermission() on controller UserManagement.Presentation.Controllers.PermissionController (UserManagement).
2025-10-22 10:46:30.296 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
2025-10-22 10:46:30.418 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
2025-10-22 10:46:30.445 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.PermissionDto.PermissionResponseDto'.
2025-10-22 10:46:30.470 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.PermissionController.GetPermission (UserManagement) in 231.3209ms
2025-10-22 10:46:30.483 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.PermissionController.GetPermission (UserManagement)'
2025-10-22 10:46:30.493 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Permission - 200 null application/json; charset=utf-8 307.3979ms
2025-10-22 11:02:48.908 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Roles/3/permissions - application/json 19
2025-10-22 11:02:48.937 +01:00 [INF] CORS policy execution successful.
2025-10-22 11:02:48.941 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles/3/permissions
2025-10-22 11:02:48.945 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 11:02:48.950 +01:00 [INF] Route matched with {action = "AssignPermissionToRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignPermissionToRole(Int32, System.Collections.Generic.List`1[System.Int32]) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 11:02:49.121 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__roleId_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 11:02:49.287 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__permissionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__permissionIds_0) WITH ([value] int '$') AS [p0]
)
2025-10-22 11:02:49.723 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PermissionRoles] ([PermissionsId], [RolesId])
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);
2025-10-22 11:02:49.756 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-22 11:02:49.763 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement) in 806.4053ms
2025-10-22 11:02:49.770 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 11:02:49.775 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Roles/3/permissions - 200 null application/json; charset=utf-8 867.6598ms
2025-10-22 11:20:43.456 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Roles/4/permissions - application/json 9
2025-10-22 11:20:43.489 +01:00 [INF] CORS policy execution successful.
2025-10-22 11:20:43.495 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles/4/permissions
2025-10-22 11:20:43.501 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 11:20:43.509 +01:00 [INF] Route matched with {action = "AssignPermissionToRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignPermissionToRole(Int32, System.Collections.Generic.List`1[System.Int32]) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 11:20:43.707 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__roleId_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 11:20:43.731 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__permissionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__permissionIds_0) WITH ([value] int '$') AS [p0]
)
2025-10-22 11:20:43.945 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-22 11:20:43.953 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement) in 431.1305ms
2025-10-22 11:20:43.959 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 11:20:43.965 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Roles/4/permissions - 404 null application/json; charset=utf-8 510.1013ms
2025-10-22 11:20:55.065 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Roles/4/permissions - application/json 11
2025-10-22 11:20:55.083 +01:00 [INF] CORS policy execution successful.
2025-10-22 11:20:55.089 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles/4/permissions
2025-10-22 11:20:55.096 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 11:20:55.103 +01:00 [INF] Route matched with {action = "AssignPermissionToRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignPermissionToRole(Int32, System.Collections.Generic.List`1[System.Int32]) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 11:20:55.127 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__roleId_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 11:20:55.149 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__permissionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__permissionIds_0) WITH ([value] int '$') AS [p0]
)
2025-10-22 11:20:55.184 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PermissionRoles] ([PermissionsId], [RolesId])
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5);
2025-10-22 11:20:55.206 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-22 11:20:55.218 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement) in 99.7756ms
2025-10-22 11:20:55.230 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 11:20:55.244 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Roles/4/permissions - 200 null application/json; charset=utf-8 178.64ms
2025-10-22 11:32:44.691 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Roles/4/permissions - application/json 11
2025-10-22 11:32:44.710 +01:00 [INF] CORS policy execution successful.
2025-10-22 11:32:44.715 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles/4/permissions
2025-10-22 11:32:44.722 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 11:32:44.727 +01:00 [INF] Route matched with {action = "AssignPermissionToRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignPermissionToRole(Int32, System.Collections.Generic.List`1[System.Int32]) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 11:32:44.752 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__roleId_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 11:32:44.783 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__permissionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__permissionIds_0) WITH ([value] int '$') AS [p0]
)
2025-10-22 11:32:44.796 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-22 11:32:44.805 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement) in 69.3244ms
2025-10-22 11:32:44.812 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 11:32:44.817 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Roles/4/permissions - 200 null application/json; charset=utf-8 126.3548ms
2025-10-22 11:32:52.274 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-22 11:32:52.326 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 11:32:52.340 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 11:32:52.349 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.RoleResponseDto]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 11:32:52.372 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
FROM [Roles] AS [r]
2025-10-22 11:32:52.391 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.RoleResponseDto, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-22 11:32:52.402 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 37.3684ms
2025-10-22 11:32:52.414 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 11:32:52.422 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 148.7531ms
2025-10-22 12:00:07.697 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-22 12:00:08.697 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-22 12:00:08.703 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-22 12:00:09.248 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-22 12:00:09.253 +01:00 [INF] Hosting environment: Development
2025-10-22 12:00:09.257 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-22 12:02:30.764 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Roles/5/permissions - application/json 12
2025-10-22 12:02:30.890 +01:00 [INF] CORS policy execution successful.
2025-10-22 12:02:30.903 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles/5/permissions
2025-10-22 12:02:31.132 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 12:02:31.219 +01:00 [INF] Route matched with {action = "AssignPermissionToRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignPermissionToRole(Int32, System.Collections.Generic.List`1[System.Int32]) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 12:02:39.763 +01:00 [INF] Executed DbCommand (282ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__roleId_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 12:02:40.515 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__permissionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__permissionIds_0) WITH ([value] int '$') AS [p0]
)
2025-10-22 12:02:41.660 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PermissionRoles] ([PermissionsId], [RolesId])
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5);
2025-10-22 12:02:41.835 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-22 12:02:41.916 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement) in 10666.3215ms
2025-10-22 12:02:41.941 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.AssignPermissionToRole (UserManagement)'
2025-10-22 12:02:42.025 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Roles/5/permissions - 200 null application/json; charset=utf-8 11277.2633ms
2025-10-22 12:03:23.721 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-22 12:03:23.769 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 12:03:23.785 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 12:03:23.809 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.RoleResponseDto]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 12:03:23.910 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
FROM [Roles] AS [r]
2025-10-22 12:03:24.052 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.RoleResponseDto, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-22 12:03:24.084 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 263.4904ms
2025-10-22 12:03:24.100 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 12:03:24.115 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 394.8004ms
2025-10-22 12:12:55.926 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-22 12:12:57.014 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-22 12:12:57.024 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-22 12:12:57.798 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-22 12:12:57.931 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 12:12:58.230 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 12:12:58.298 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-22 12:12:58.298 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.RoleResponseDto]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 12:12:58.303 +01:00 [INF] Hosting environment: Development
2025-10-22 12:12:58.312 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-22 12:13:08.549 +01:00 [INF] Executed DbCommand (207ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 12:13:09.136 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-22 12:13:09.195 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 10876.7102ms
2025-10-22 12:13:09.208 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 12:13:09.260 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 11483.5152ms
2025-10-22 12:16:05.395 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-22 12:16:06.433 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-22 12:16:06.438 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-22 12:16:07.291 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-22 12:16:07.296 +01:00 [INF] Hosting environment: Development
2025-10-22 12:16:07.300 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-22 12:16:13.980 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-22 12:16:14.159 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 12:16:14.407 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 12:16:14.479 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 12:16:22.647 +01:00 [INF] Executed DbCommand (346ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 12:16:23.370 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-22 12:16:23.457 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 8950.7129ms
2025-10-22 12:16:23.473 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 12:16:23.562 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 9594.7976ms
2025-10-22 14:22:30.776 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Permission - null null
2025-10-22 14:22:30.794 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Permission
2025-10-22 14:22:30.805 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.PermissionController.GetPermission (UserManagement)'
2025-10-22 14:22:30.827 +01:00 [INF] Route matched with {action = "GetPermission", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPermission() on controller UserManagement.Presentation.Controllers.PermissionController (UserManagement).
2025-10-22 14:22:31.051 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
2025-10-22 14:22:31.122 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
2025-10-22 14:22:31.137 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.PermissionDto.PermissionResponseDto'.
2025-10-22 14:22:31.148 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.PermissionController.GetPermission (UserManagement) in 311.7797ms
2025-10-22 14:22:31.153 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.PermissionController.GetPermission (UserManagement)'
2025-10-22 14:22:31.159 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Permission - 200 null application/json; charset=utf-8 383.1571ms
2025-10-22 14:30:52.289 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Roles - application/json 25
2025-10-22 14:30:52.311 +01:00 [INF] CORS policy execution successful.
2025-10-22 14:30:52.317 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 14:30:52.327 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.CreateRole (UserManagement)'
2025-10-22 14:30:52.353 +01:00 [INF] Route matched with {action = "CreateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.RoleResponseDto]] CreateRole(UserManagement.Application.DTO.Roles.CreateRoleDto) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 14:30:53.078 +01:00 [INF] Executed DbCommand (77ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Roles] ([CreatedAt], [Description], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-10-22 14:30:53.157 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'UserManagement.Application.DTO.Roles.RoleResponseDto'.
2025-10-22 14:30:53.209 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.CreateRole (UserManagement) in 846.2141ms
2025-10-22 14:30:53.215 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.CreateRole (UserManagement)'
2025-10-22 14:30:53.220 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Roles - 201 null application/json; charset=utf-8 930.9135ms
2025-10-22 14:31:50.852 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-22 14:31:50.907 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 14:31:50.915 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 14:31:50.923 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 14:31:50.998 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 14:31:51.025 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-22 14:31:51.035 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 98.8117ms
2025-10-22 14:31:51.129 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 14:31:51.135 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 282.8856ms
2025-10-22 14:32:36.286 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-22 14:32:36.301 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 14:32:36.306 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 14:32:36.311 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 14:32:36.341 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 14:32:36.357 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-22 14:32:36.364 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 43.896ms
2025-10-22 14:32:36.465 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 14:32:36.474 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 216.4518ms
2025-10-22 16:47:11.843 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-22 16:47:12.203 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-22 16:47:12.206 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-22 16:47:12.293 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-22 16:47:12.295 +01:00 [INF] Hosting environment: Development
2025-10-22 16:47:12.297 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-22 16:53:57.287 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-22 16:53:57.688 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-22 16:53:57.691 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-22 16:53:57.935 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-22 16:53:57.937 +01:00 [INF] Hosting environment: Development
2025-10-22 16:53:57.939 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-22 16:54:07.123 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-22 16:54:07.169 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 16:54:07.237 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 16:54:07.259 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 16:54:09.011 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-22 16:54:09.148 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-22 16:54:09.166 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 1900.1548ms
2025-10-22 16:54:09.171 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-22 16:54:09.184 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 2065.4184ms
2025-10-22 16:56:38.047 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-22 16:56:38.318 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-22 16:56:38.322 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-22 16:56:38.417 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-22 16:56:38.419 +01:00 [INF] Hosting environment: Development
2025-10-22 16:56:38.420 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-22 16:56:41.389 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Roles - application/json 25
2025-10-22 16:56:41.433 +01:00 [INF] CORS policy execution successful.
2025-10-22 16:56:41.439 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-22 16:56:41.510 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.CreateRole (UserManagement)'
2025-10-22 16:56:41.533 +01:00 [INF] Route matched with {action = "CreateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.RoleResponseDto]] CreateRole(UserManagement.Application.DTO.Roles.CreateRoleDto) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-22 16:56:43.292 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]
        WHERE LOWER([r].[RoleName]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-22 16:56:43.612 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.CreateRole (UserManagement) in 2070.4272ms
2025-10-22 16:56:43.618 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.CreateRole (UserManagement)'
2025-10-22 16:56:43.842 +01:00 [ERR] Unhandled exception caught in middleware: Roles 'Admin' already exists.
System.ArgumentException: Roles 'Admin' already exists.
   at UserManagement.Application.Services.RoleService.CreateRole(CreateRoleDto dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 29
   at UserManagement.Presentation.Controllers.RolesController.CreateRole(CreateRoleDto dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-22 16:56:43.895 +01:00 [ERR] Unhandled exception: Roles 'Admin' already exists.
System.ArgumentException: Roles 'Admin' already exists.
   at UserManagement.Application.Services.RoleService.CreateRole(CreateRoleDto dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 29
   at UserManagement.Presentation.Controllers.RolesController.CreateRole(CreateRoleDto dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-22 16:56:43.921 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Roles - 400 null application/json 2536.4411ms
2025-10-22 16:57:09.068 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-22 16:57:09.199 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/index.html
2025-10-22 16:57:09.292 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 224.0439ms
2025-10-22 16:57:09.311 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-22 16:57:09.312 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-22 16:57:09.351 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 40.5962ms
2025-10-22 16:57:09.396 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.1684ms
2025-10-22 16:57:09.573 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-22 16:57:09.578 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-22 16:57:09.613 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.2471ms
