2025-10-24 08:43:39.910 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [p].[SubModuleName]
FROM [Permissions] AS [p]
2025-10-24 08:43:40.593 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [p].[SubModuleName]
FROM [Permissions] AS [p]
2025-10-24 08:43:41.007 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 08:43:41.842 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 08:43:41.851 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 08:43:42.267 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 08:43:42.273 +01:00 [INF] Hosting environment: Development
2025-10-24 08:43:42.278 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 08:57:32.604 +01:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [p].[SubModuleName]
FROM [Permissions] AS [p]
2025-10-24 08:57:33.255 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 08:57:33.847 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 08:57:33.855 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 08:57:34.274 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 08:57:34.279 +01:00 [INF] Hosting environment: Development
2025-10-24 08:57:34.286 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 08:58:29.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-24 08:58:30.304 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/index.html
2025-10-24 08:58:30.773 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 1119.4618ms
2025-10-24 08:58:30.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/swagger-ui.css - null null
2025-10-24 08:58:30.891 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/swagger-ui-bundle.js - null null
2025-10-24 08:58:30.881 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-24 08:58:30.968 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/swagger-ui.css
2025-10-24 08:58:30.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.css - null null
2025-10-24 08:58:31.024 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/swagger-ui-bundle.js
2025-10-24 08:58:31.077 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/index.css
2025-10-24 08:58:30.892 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.js - null null
2025-10-24 08:58:31.195 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 314.5144ms
2025-10-24 08:58:30.906 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/swagger-ui-standalone-preset.js - null null
2025-10-24 08:58:30.959 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-24 08:58:31.214 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/index.js
2025-10-24 08:58:31.227 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/swagger-ui.css - 304 null null 395.5245ms
2025-10-24 08:58:31.258 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/swagger-ui-bundle.js - 304 null null 366.8584ms
2025-10-24 08:58:31.227 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.css - 304 null null 348.5047ms
2025-10-24 08:58:31.313 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.js - 200 null application/javascript;charset=utf-8 420.9584ms
2025-10-24 08:58:31.278 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/swagger-ui-standalone-preset.js
2025-10-24 08:58:31.460 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/swagger-ui-standalone-preset.js - 304 null null 556.2728ms
2025-10-24 08:58:31.479 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 519.8974ms
2025-10-24 08:58:31.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-24 08:58:31.849 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/favicon-32x32.png - null null
2025-10-24 08:58:31.859 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-24 08:58:31.872 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/favicon-32x32.png
2025-10-24 08:58:31.884 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/favicon-32x32.png - 304 null null 34.788ms
2025-10-24 08:58:31.948 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.1233ms
2025-10-24 09:20:43.992 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 09:20:44.717 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 09:20:44.725 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 09:20:44.959 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 09:20:44.962 +01:00 [INF] Hosting environment: Development
2025-10-24 09:20:44.968 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 09:21:29.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-24 09:21:30.445 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/index.html
2025-10-24 09:21:30.742 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 919.1717ms
2025-10-24 09:21:30.769 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-24 09:21:30.772 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-24 09:21:30.830 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 58.0395ms
2025-10-24 09:21:30.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.6505ms
2025-10-24 09:21:31.312 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-24 09:21:31.326 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-24 09:21:31.433 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.2741ms
2025-10-24 09:26:35.930 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/User/signup - application/json 63
2025-10-24 09:26:35.988 +01:00 [INF] CORS policy execution successful.
2025-10-24 09:26:35.997 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/User/signup
2025-10-24 09:26:36.319 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.RegisterUser (UserManagement)'
2025-10-24 09:26:36.434 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RegisterUser(UserManagement.Application.DTO.UserDto.CreateUserDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-24 09:26:42.334 +01:00 [INF] Executed DbCommand (125ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-24 09:26:44.529 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [EmployeeId], [PasswordHash], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-10-24 09:26:44.756 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 09:26:44.879 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.RegisterUser (UserManagement) in 8411.1839ms
2025-10-24 09:26:44.895 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.RegisterUser (UserManagement)'
2025-10-24 09:26:44.955 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/User/signup - 200 null application/json; charset=utf-8 9025.1487ms
2025-10-24 09:28:04.298 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/User/login - application/json 63
2025-10-24 09:28:04.354 +01:00 [INF] CORS policy execution successful.
2025-10-24 09:28:04.365 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/User/login
2025-10-24 09:28:04.381 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 09:28:04.421 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserManagement.Application.DTO.UserRoleDto.UserLoginDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-24 09:28:05.065 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__loginmodel_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginmodel_Email_0
2025-10-24 09:28:07.047 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 09:28:07.123 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 09:28:07.199 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.UserRoleDto.UserLoginResponse'.
2025-10-24 09:28:07.211 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.Login (UserManagement) in 2770.2013ms
2025-10-24 09:28:07.217 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 09:28:07.224 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/User/login - 200 null application/json; charset=utf-8 2926.0359ms
2025-10-24 09:34:41.036 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 09:34:41.830 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 09:34:41.838 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 09:34:42.159 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 09:34:42.164 +01:00 [INF] Hosting environment: Development
2025-10-24 09:34:42.169 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 09:34:49.970 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Product - null null
2025-10-24 09:34:50.138 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Product
2025-10-24 09:34:58.239 +01:00 [INF] Executed DbCommand (165ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [p].[SubModuleName]
FROM [Permissions] AS [p]
2025-10-24 09:34:58.461 +01:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=Permission and Claim.Value is one of the following values: (Product View)
2025-10-24 09:34:58.485 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-10-24 09:34:58.540 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Product - 403 0 null 8581.7714ms
2025-10-24 09:46:48.388 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/User/signup - application/json 61
2025-10-24 09:46:48.433 +01:00 [INF] CORS policy execution successful.
2025-10-24 09:46:48.445 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/User/signup
2025-10-24 09:46:48.469 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.RegisterUser (UserManagement)'
2025-10-24 09:46:48.532 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RegisterUser(UserManagement.Application.DTO.UserDto.CreateUserDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-24 09:46:49.930 +01:00 [INF] Executed DbCommand (109ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-24 09:46:51.711 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [EmployeeId], [PasswordHash], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-10-24 09:46:51.830 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 09:46:51.870 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.RegisterUser (UserManagement) in 3317.9061ms
2025-10-24 09:46:51.878 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.RegisterUser (UserManagement)'
2025-10-24 09:46:51.892 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/User/signup - 200 null application/json; charset=utf-8 3526.6163ms
2025-10-24 09:49:11.476 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Dept - null null
2025-10-24 09:49:11.524 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Dept
2025-10-24 09:49:11.538 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.DeptController.GetDepartments (UserManagement)'
2025-10-24 09:49:11.570 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller UserManagement.Presentation.Controllers.DeptController (UserManagement).
2025-10-24 09:49:11.601 +01:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-10-24 09:49:11.611 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-24 09:49:11.628 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-10-24 09:49:11.643 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-10-24 09:49:11.651 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.DeptController.GetDepartments (UserManagement) in 60.7233ms
2025-10-24 09:49:11.662 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.DeptController.GetDepartments (UserManagement)'
2025-10-24 09:49:11.669 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Dept - 403 0 null 194.0151ms
2025-10-24 09:51:42.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee - null null
2025-10-24 09:51:42.720 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 09:51:42.729 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 09:51:42.778 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]]] GetAll(UserManagement.Application.DTO.EmployeeDto.Paging.Filter, UserManagement.Application.DTO.EmployeeDto.Paging.Pagination) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 09:51:42.798 +01:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-10-24 09:51:42.808 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-24 09:51:42.818 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-10-24 09:51:42.834 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-10-24 09:51:42.844 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement) in 45.685ms
2025-10-24 09:51:42.858 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 09:51:42.869 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee - 403 0 null 199.7665ms
2025-10-24 09:57:00.927 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 09:57:02.132 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 09:57:02.143 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 09:57:02.426 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/JobTitle - null null
2025-10-24 09:57:02.554 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/JobTitle
2025-10-24 09:57:02.670 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 09:57:02.678 +01:00 [INF] Hosting environment: Development
2025-10-24 09:57:02.681 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 09:57:03.095 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.JobTitleController.GetAllRoles (UserManagement)'
2025-10-24 09:57:03.163 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "JobTitle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.JobTitleDto.JobTitleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.JobTitleController (UserManagement).
2025-10-24 09:57:03.208 +01:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-10-24 09:57:03.214 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-24 09:57:03.225 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-10-24 09:57:03.239 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-10-24 09:57:03.273 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.JobTitleController.GetAllRoles (UserManagement) in 85.0705ms
2025-10-24 09:57:03.280 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.JobTitleController.GetAllRoles (UserManagement)'
2025-10-24 09:57:03.304 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/JobTitle - 403 0 null 891.5312ms
2025-10-24 09:58:17.112 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Employee - application/json 237
2025-10-24 09:58:17.202 +01:00 [INF] CORS policy execution successful.
2025-10-24 09:58:17.211 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 09:58:17.224 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-24 09:58:17.249 +01:00 [INF] Route matched with {action = "Register", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] Register(UserManagement.Application.DTO.EmployeeDto.CreateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 09:58:17.260 +01:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-10-24 09:58:17.265 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-24 09:58:17.270 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-10-24 09:58:17.276 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-10-24 09:58:17.282 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement) in 22.914ms
2025-10-24 09:58:17.290 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-24 09:58:17.299 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Employee - 403 0 null 187.2001ms
2025-10-24 10:00:35.535 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 10:00:36.665 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 10:00:36.674 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 10:00:37.186 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 10:00:37.193 +01:00 [INF] Hosting environment: Development
2025-10-24 10:00:37.199 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 10:00:43.185 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Employee - application/json 237
2025-10-24 10:00:43.322 +01:00 [INF] CORS policy execution successful.
2025-10-24 10:00:43.335 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 10:00:44.069 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-24 10:00:44.154 +01:00 [INF] Route matched with {action = "Register", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] Register(UserManagement.Application.DTO.EmployeeDto.CreateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 10:00:44.172 +01:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-10-24 10:00:44.181 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-24 10:00:44.191 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-10-24 10:00:44.206 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-10-24 10:00:44.221 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement) in 49.1144ms
2025-10-24 10:00:44.230 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-24 10:00:44.244 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Employee - 403 0 null 1071.748ms
2025-10-24 10:02:19.629 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 10:02:20.530 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 10:02:20.535 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 10:02:20.865 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Employee - application/json 237
2025-10-24 10:02:21.050 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 10:02:21.060 +01:00 [INF] Hosting environment: Development
2025-10-24 10:02:21.069 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 10:02:21.076 +01:00 [INF] CORS policy execution successful.
2025-10-24 10:02:21.105 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 10:02:21.539 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-24 10:02:21.709 +01:00 [INF] Route matched with {action = "Register", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] Register(UserManagement.Application.DTO.EmployeeDto.CreateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 10:02:27.729 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-24 10:02:28.249 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-10-24 10:02:29.449 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Date), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([CreatedAt], [DOB], [DepartmentId], [Email], [Firstname], [Gender], [IsActive], [JobTitleId], [Lastname], [Middlename], [Phone], [RoleId], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-10-24 10:02:30.054 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__employees_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [j].[Id], [j].[CreatedAt], [j].[DepartmentId], [j].[Description], [j].[IsActive], [j].[MaximumSalary], [j].[MinimumSalary], [j].[Name], [j].[RoleId], [j].[UpdatedAt]
FROM [Employees] AS [e]
INNER JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
LEFT JOIN [JobTitles] AS [j] ON [e].[JobTitleId] = [j].[Id]
WHERE [e].[Id] = @__employees_Id_0
2025-10-24 10:02:30.367 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.EmployeeResponse'.
2025-10-24 10:02:30.435 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement) in 8697.9266ms
2025-10-24 10:02:30.450 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-24 10:02:30.522 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Employee - 200 null application/json; charset=utf-8 9669.6987ms
2025-10-24 10:06:53.999 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Employee - application/json 237
2025-10-24 10:06:54.031 +01:00 [INF] CORS policy execution successful.
2025-10-24 10:06:54.039 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 10:06:54.059 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-24 10:06:54.071 +01:00 [INF] Route matched with {action = "Register", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] Register(UserManagement.Application.DTO.EmployeeDto.CreateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 10:06:54.427 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-24 10:06:54.465 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-10-24 10:06:54.536 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Date), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([CreatedAt], [DOB], [DepartmentId], [Email], [Firstname], [Gender], [IsActive], [JobTitleId], [Lastname], [Middlename], [Phone], [RoleId], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-10-24 10:06:54.602 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__employees_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [j].[Id], [j].[CreatedAt], [j].[DepartmentId], [j].[Description], [j].[IsActive], [j].[MaximumSalary], [j].[MinimumSalary], [j].[Name], [j].[RoleId], [j].[UpdatedAt]
FROM [Employees] AS [e]
INNER JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
LEFT JOIN [JobTitles] AS [j] ON [e].[JobTitleId] = [j].[Id]
WHERE [e].[Id] = @__employees_Id_0
2025-10-24 10:06:54.618 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.EmployeeResponse'.
2025-10-24 10:06:54.627 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement) in 534.2014ms
2025-10-24 10:06:54.631 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.Register (UserManagement)'
2025-10-24 10:06:54.636 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Employee - 200 null application/json; charset=utf-8 661.337ms
2025-10-24 10:08:05.139 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/User/login - application/json 61
2025-10-24 10:08:05.178 +01:00 [INF] CORS policy execution successful.
2025-10-24 10:08:05.186 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/User/login
2025-10-24 10:08:05.207 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 10:08:05.237 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserManagement.Application.DTO.UserRoleDto.UserLoginDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-24 10:08:05.420 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__loginmodel_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginmodel_Email_0
2025-10-24 10:08:06.654 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 10:08:06.795 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 10:08:06.844 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.UserRoleDto.UserLoginResponse'.
2025-10-24 10:08:06.854 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.Login (UserManagement) in 1598.6607ms
2025-10-24 10:08:06.862 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 10:08:06.868 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/User/login - 200 null application/json; charset=utf-8 1729.3194ms
2025-10-24 10:09:06.534 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee/7 - null null
2025-10-24 10:09:06.609 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee/7
2025-10-24 10:09:06.628 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 10:09:06.647 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] GetEmployeeById(Int32) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 10:09:06.658 +01:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-10-24 10:09:06.667 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-24 10:09:06.675 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-10-24 10:09:06.690 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-10-24 10:09:06.695 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement) in 39.5858ms
2025-10-24 10:09:06.702 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 10:09:06.707 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee/7 - 403 0 null 173.6488ms
2025-10-24 10:10:36.348 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee/7 - null null
2025-10-24 10:10:36.375 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee/7
2025-10-24 10:10:36.391 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 10:10:36.399 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] GetEmployeeById(Int32) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 10:10:36.435 +01:00 [INF] Fetching employee 7 from database
2025-10-24 10:10:36.544 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [r].[RoleName], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
WHERE [e].[Id] = @__id_0
2025-10-24 10:10:36.566 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.EmployeeResponse'.
2025-10-24 10:10:36.578 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement) in 167.4259ms
2025-10-24 10:10:36.591 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 10:10:36.602 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee/7 - 200 null application/json; charset=utf-8 254.9362ms
2025-10-24 10:10:54.197 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Dept - null null
2025-10-24 10:10:54.216 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Dept
2025-10-24 10:10:54.224 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.DeptController.GetDepartments (UserManagement)'
2025-10-24 10:10:54.246 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartments() on controller UserManagement.Presentation.Controllers.DeptController (UserManagement).
2025-10-24 10:10:54.311 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-10-24 10:10:54.381 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
2025-10-24 10:10:54.397 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.DepartmentDto.DepartmentResponseDto'.
2025-10-24 10:10:54.415 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.DeptController.GetDepartments (UserManagement) in 155.914ms
2025-10-24 10:10:54.422 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.DeptController.GetDepartments (UserManagement)'
2025-10-24 10:10:54.430 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Dept - 200 null application/json; charset=utf-8 232.9823ms
2025-10-24 10:11:52.501 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Dept/34 - null null
2025-10-24 10:11:52.550 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Dept/34
2025-10-24 10:11:52.560 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.DeptController.GetDepartment (UserManagement)'
2025-10-24 10:11:52.589 +01:00 [INF] Route matched with {action = "GetDepartment", controller = "Dept"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDepartment(Int32) on controller UserManagement.Presentation.Controllers.DeptController (UserManagement).
2025-10-24 10:11:52.694 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[Id], [d].[CreatedAt], [d].[DeptName], [d].[UpdatedAt]
FROM [Departments] AS [d]
WHERE CAST([d].[Id] AS bigint) = @__id_0
2025-10-24 10:11:52.714 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'UserManagement.Application.DTO.DepartmentDto.DepartmentResponseDto'.
2025-10-24 10:11:52.727 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.DeptController.GetDepartment (UserManagement) in 119.1133ms
2025-10-24 10:11:52.743 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.DeptController.GetDepartment (UserManagement)'
2025-10-24 10:11:52.754 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Dept/34 - 404 null application/json; charset=utf-8 253.2501ms
2025-10-24 10:12:15.097 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Employee/67 - application/json 174
2025-10-24 10:12:15.111 +01:00 [INF] CORS policy execution successful.
2025-10-24 10:12:15.114 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee/67
2025-10-24 10:12:15.120 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.UpdateEmployee (UserManagement)'
2025-10-24 10:12:15.134 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] UpdateEmployee(Int32, UserManagement.Application.DTO.EmployeeDto.UpdateEmployee) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 10:12:15.196 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId]
FROM [Employees] AS [e]
WHERE CAST([e].[Id] AS bigint) = @__id_0
2025-10-24 10:12:15.210 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-10-24 10:12:15.272 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.UpdateEmployee (UserManagement) in 128.4663ms
2025-10-24 10:12:15.285 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.UpdateEmployee (UserManagement)'
2025-10-24 10:12:15.296 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Employee/67 - 404 null application/problem+json; charset=utf-8 199.1454ms
2025-10-24 10:47:24.313 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 10:47:25.385 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 10:47:25.394 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 10:47:25.742 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-24 10:47:25.858 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-24 10:47:25.910 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 10:47:25.920 +01:00 [INF] Hosting environment: Development
2025-10-24 10:47:25.924 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 10:47:26.551 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 10:47:26.616 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 10:47:32.456 +01:00 [INF] Executed DbCommand (168ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 10:47:32.936 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 10:47:32.981 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 6318.3533ms
2025-10-24 10:47:32.991 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 10:47:33.032 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 7306.2375ms
2025-10-24 11:21:05.186 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 11:21:06.443 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 11:21:06.451 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 11:21:06.889 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 11:21:06.893 +01:00 [INF] Hosting environment: Development
2025-10-24 11:21:06.898 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 11:21:15.690 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-24 11:21:16.082 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/index.html
2025-10-24 11:21:16.314 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 637.5909ms
2025-10-24 11:21:16.361 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-24 11:21:16.361 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-24 11:21:16.418 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 57.7068ms
2025-10-24 11:21:16.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 114.3825ms
2025-10-24 11:21:17.054 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-24 11:21:17.102 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-24 11:21:17.201 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 147.1031ms
2025-10-24 12:52:59.420 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 12:53:00.662 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 12:53:00.669 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 12:53:00.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-24 12:53:01.149 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 12:53:01.166 +01:00 [INF] Hosting environment: Development
2025-10-24 12:53:01.171 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 12:53:01.353 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/index.html
2025-10-24 12:53:01.615 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 744.8747ms
2025-10-24 12:53:01.639 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-24 12:53:01.639 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-24 12:53:01.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 40.6089ms
2025-10-24 12:53:01.746 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.9536ms
2025-10-24 12:53:02.093 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-24 12:53:02.106 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-24 12:53:02.292 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.5389ms
2025-10-24 12:53:38.005 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - application/json 84
2025-10-24 12:53:38.034 +01:00 [INF] CORS policy execution successful.
2025-10-24 12:53:38.039 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-24 12:53:38.228 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 12:53:38.296 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 12:53:38.319 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-10-24 12:53:38.325 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2025-10-24 12:53:38.335 +01:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2025-10-24 12:53:38.354 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-24 12:53:38.370 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 54.8571ms
2025-10-24 12:53:38.377 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 12:53:38.388 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - 401 0 null 390.5506ms
2025-10-24 12:54:08.747 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/User/login - application/json 61
2025-10-24 12:54:08.775 +01:00 [INF] CORS policy execution successful.
2025-10-24 12:54:08.779 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/User/login
2025-10-24 12:54:08.789 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 12:54:08.802 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserManagement.Application.DTO.UserRoleDto.UserLoginDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-24 12:54:13.049 +01:00 [INF] Executed DbCommand (160ms) [Parameters=[@__loginmodel_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginmodel_Email_0
2025-10-24 12:54:14.760 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 12:54:15.036 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 12:54:15.164 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.UserRoleDto.UserLoginResponse'.
2025-10-24 12:54:15.180 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.Login (UserManagement) in 6368.147ms
2025-10-24 12:54:15.188 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 12:54:15.209 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/User/login - 200 null application/json; charset=utf-8 6463.0068ms
2025-10-24 12:54:50.915 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee - null null
2025-10-24 12:54:50.945 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 12:54:51.059 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:54:51.076 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]]] GetAll(UserManagement.Application.DTO.EmployeeDto.Paging.Filter, UserManagement.Application.DTO.EmployeeDto.Paging.Pagination) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:54:51.302 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
2025-10-24 12:54:51.342 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-24 12:54:51.347 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-24 12:54:51.414 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Firstname], [e0].[Middlename], [e0].[Lastname], [e0].[Gender], [e0].[Email], [e0].[Phone], [e0].[DOB], [r].[RoleName], [d].[DeptName], [e0].[IsActive]
FROM (
    SELECT [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId]
    FROM [Employees] AS [e]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [e0]
INNER JOIN [Roles] AS [r] ON [e0].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e0].[DepartmentId] = [d].[Id]
2025-10-24 12:54:51.436 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.Paging.PagedResponse`1[[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 12:54:51.465 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement) in 379.5486ms
2025-10-24 12:54:51.473 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:54:51.479 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee - 200 null application/json; charset=utf-8 564.7709ms
2025-10-24 12:55:35.940 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee - null null
2025-10-24 12:55:35.965 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 12:55:35.971 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:55:35.977 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]]] GetAll(UserManagement.Application.DTO.EmployeeDto.Paging.Filter, UserManagement.Application.DTO.EmployeeDto.Paging.Pagination) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:55:36.029 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
2025-10-24 12:55:36.047 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Firstname], [e0].[Middlename], [e0].[Lastname], [e0].[Gender], [e0].[Email], [e0].[Phone], [e0].[DOB], [r].[RoleName], [d].[DeptName], [e0].[IsActive]
FROM (
    SELECT [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId]
    FROM [Employees] AS [e]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [e0]
INNER JOIN [Roles] AS [r] ON [e0].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e0].[DepartmentId] = [d].[Id]
2025-10-24 12:55:36.058 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.Paging.PagedResponse`1[[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 12:55:36.065 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement) in 78.6775ms
2025-10-24 12:55:36.072 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:55:36.077 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee - 200 null application/json; charset=utf-8 137.3186ms
2025-10-24 12:56:36.014 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee/39 - null null
2025-10-24 12:56:36.027 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee/39
2025-10-24 12:56:36.034 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 12:56:36.047 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] GetEmployeeById(Int32) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:56:36.075 +01:00 [INF] Fetching employee 39 from database
2025-10-24 12:56:36.140 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [r].[RoleName], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
WHERE [e].[Id] = @__id_0
2025-10-24 12:56:36.152 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.EmployeeResponse'.
2025-10-24 12:56:36.160 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement) in 104.1106ms
2025-10-24 12:56:36.188 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 12:56:36.194 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee/39 - 200 null application/json; charset=utf-8 180.2181ms
2025-10-24 12:57:08.600 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee/39 - null null
2025-10-24 12:57:08.623 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee/39
2025-10-24 12:57:08.629 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 12:57:08.638 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] GetEmployeeById(Int32) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:57:08.650 +01:00 [INF] Fetching employee 39 from cache
2025-10-24 12:57:08.660 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.EmployeeResponse'.
2025-10-24 12:57:08.667 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement) in 19.2909ms
2025-10-24 12:57:08.677 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 12:57:08.682 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee/39 - 200 null application/json; charset=utf-8 82.3193ms
2025-10-24 12:57:18.516 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee - null null
2025-10-24 12:57:18.525 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 12:57:18.529 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:57:18.533 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]]] GetAll(UserManagement.Application.DTO.EmployeeDto.Paging.Filter, UserManagement.Application.DTO.EmployeeDto.Paging.Pagination) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:57:18.571 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
2025-10-24 12:57:18.604 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Firstname], [e0].[Middlename], [e0].[Lastname], [e0].[Gender], [e0].[Email], [e0].[Phone], [e0].[DOB], [r].[RoleName], [d].[DeptName], [e0].[IsActive]
FROM (
    SELECT [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId]
    FROM [Employees] AS [e]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [e0]
INNER JOIN [Roles] AS [r] ON [e0].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e0].[DepartmentId] = [d].[Id]
2025-10-24 12:57:18.615 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.Paging.PagedResponse`1[[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 12:57:18.621 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement) in 81.1148ms
2025-10-24 12:57:18.627 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:57:18.631 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee - 200 null application/json; charset=utf-8 114.9491ms
2025-10-24 12:57:45.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee?DepartmentId=8 - null null
2025-10-24 12:57:45.343 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 12:57:45.347 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:57:45.352 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]]] GetAll(UserManagement.Application.DTO.EmployeeDto.Paging.Filter, UserManagement.Application.DTO.EmployeeDto.Paging.Pagination) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:57:45.389 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__filter_DepartmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[DepartmentId] = @__filter_DepartmentId_0
2025-10-24 12:57:45.402 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-24 12:57:45.406 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-24 12:57:45.432 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__filter_DepartmentId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Firstname], [e0].[Middlename], [e0].[Lastname], [e0].[Gender], [e0].[Email], [e0].[Phone], [e0].[DOB], [r].[RoleName], [d].[DeptName], [e0].[IsActive]
FROM (
    SELECT [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId]
    FROM [Employees] AS [e]
    WHERE [e].[DepartmentId] = @__filter_DepartmentId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [e0]
INNER JOIN [Roles] AS [r] ON [e0].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e0].[DepartmentId] = [d].[Id]
2025-10-24 12:57:45.443 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.Paging.PagedResponse`1[[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 12:57:45.450 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement) in 89.1021ms
2025-10-24 12:57:45.456 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:57:45.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee?DepartmentId=8 - 200 null application/json; charset=utf-8 140.394ms
2025-10-24 12:58:18.674 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee - null null
2025-10-24 12:58:18.696 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 12:58:18.701 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:58:18.706 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]]] GetAll(UserManagement.Application.DTO.EmployeeDto.Paging.Filter, UserManagement.Application.DTO.EmployeeDto.Paging.Pagination) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:58:18.744 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
2025-10-24 12:58:18.777 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Firstname], [e0].[Middlename], [e0].[Lastname], [e0].[Gender], [e0].[Email], [e0].[Phone], [e0].[DOB], [r].[RoleName], [d].[DeptName], [e0].[IsActive]
FROM (
    SELECT [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId]
    FROM [Employees] AS [e]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [e0]
INNER JOIN [Roles] AS [r] ON [e0].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e0].[DepartmentId] = [d].[Id]
2025-10-24 12:58:18.788 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.Paging.PagedResponse`1[[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 12:58:18.795 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement) in 81.5833ms
2025-10-24 12:58:18.801 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:58:18.806 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee - 200 null application/json; charset=utf-8 131.7802ms
2025-10-24 12:58:32.962 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee?PageNumber=2 - null null
2025-10-24 12:58:32.971 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 12:58:32.975 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:58:32.980 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]]] GetAll(UserManagement.Application.DTO.EmployeeDto.Paging.Filter, UserManagement.Application.DTO.EmployeeDto.Paging.Pagination) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:58:32.989 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
2025-10-24 12:58:33.001 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-24 12:58:33.004 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-24 12:58:33.027 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Firstname], [e0].[Middlename], [e0].[Lastname], [e0].[Gender], [e0].[Email], [e0].[Phone], [e0].[DOB], [r].[RoleName], [d].[DeptName], [e0].[IsActive]
FROM (
    SELECT [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId]
    FROM [Employees] AS [e]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [e0]
INNER JOIN [Roles] AS [r] ON [e0].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e0].[DepartmentId] = [d].[Id]
2025-10-24 12:58:33.039 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.Paging.PagedResponse`1[[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 12:58:33.046 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement) in 59.5593ms
2025-10-24 12:58:33.052 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:58:33.058 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee?PageNumber=2 - 200 null application/json; charset=utf-8 95.775ms
2025-10-24 12:58:49.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee?PageNumber=4 - null null
2025-10-24 12:58:49.156 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 12:58:49.160 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:58:49.165 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]]] GetAll(UserManagement.Application.DTO.EmployeeDto.Paging.Filter, UserManagement.Application.DTO.EmployeeDto.Paging.Pagination) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:58:49.177 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
2025-10-24 12:58:49.188 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Firstname], [e0].[Middlename], [e0].[Lastname], [e0].[Gender], [e0].[Email], [e0].[Phone], [e0].[DOB], [r].[RoleName], [d].[DeptName], [e0].[IsActive]
FROM (
    SELECT [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId]
    FROM [Employees] AS [e]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [e0]
INNER JOIN [Roles] AS [r] ON [e0].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e0].[DepartmentId] = [d].[Id]
2025-10-24 12:58:49.197 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.Paging.PagedResponse`1[[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 12:58:49.203 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement) in 30.9409ms
2025-10-24 12:58:49.208 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:58:49.213 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee?PageNumber=4 - 200 null application/json; charset=utf-8 66.4773ms
2025-10-24 12:59:00.290 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee?PageNumber=10 - null null
2025-10-24 12:59:00.300 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Employee
2025-10-24 12:59:00.306 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:59:00.311 +01:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]]] GetAll(UserManagement.Application.DTO.EmployeeDto.Paging.Filter, UserManagement.Application.DTO.EmployeeDto.Paging.Pagination) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 12:59:00.351 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
2025-10-24 12:59:00.393 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Firstname], [e0].[Middlename], [e0].[Lastname], [e0].[Gender], [e0].[Email], [e0].[Phone], [e0].[DOB], [r].[RoleName], [d].[DeptName], [e0].[IsActive]
FROM (
    SELECT [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId]
    FROM [Employees] AS [e]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [e0]
INNER JOIN [Roles] AS [r] ON [e0].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e0].[DepartmentId] = [d].[Id]
2025-10-24 12:59:00.404 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.Paging.PagedResponse`1[[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 12:59:00.411 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement) in 92.2469ms
2025-10-24 12:59:00.418 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetAll (UserManagement)'
2025-10-24 12:59:00.422 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee?PageNumber=10 - 200 null application/json; charset=utf-8 132.9255ms
2025-10-24 13:00:13.460 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Permission - null null
2025-10-24 13:00:13.471 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Permission
2025-10-24 13:00:13.475 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.PermissionController.GetPermission (UserManagement)'
2025-10-24 13:00:13.489 +01:00 [INF] Route matched with {action = "GetPermission", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPermission() on controller UserManagement.Presentation.Controllers.PermissionController (UserManagement).
2025-10-24 13:00:13.543 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
2025-10-24 13:00:13.582 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
2025-10-24 13:00:13.595 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.PermissionDto.PermissionResponseDto'.
2025-10-24 13:00:13.608 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.PermissionController.GetPermission (UserManagement) in 109.8298ms
2025-10-24 13:00:13.657 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.PermissionController.GetPermission (UserManagement)'
2025-10-24 13:00:13.664 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Permission - 200 null application/json; charset=utf-8 205.8496ms
2025-10-24 13:00:37.276 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-24 13:00:37.285 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:00:37.289 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:00:37.299 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:00:37.363 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:00:37.386 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 13:00:37.400 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 95.5799ms
2025-10-24 13:00:37.406 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:00:37.411 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 135.6102ms
2025-10-24 13:00:43.019 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-24 13:00:43.029 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:00:43.033 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:00:43.038 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:00:43.051 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:00:43.064 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 13:00:43.071 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 25.3427ms
2025-10-24 13:00:43.077 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:00:43.082 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 63.1651ms
2025-10-24 13:02:46.400 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - application/json 98
2025-10-24 13:02:46.420 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:02:46.424 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:02:46.427 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:02:46.432 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:02:46.469 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:02:46.560 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:02:46.773 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:03:03.376 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 16936.4132ms
2025-10-24 13:03:03.385 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:03:03.937 +01:00 [ERR] Unhandled exception caught in middleware: Permissions not found: 45
System.Collections.Generic.KeyNotFoundException: Permissions not found: 45
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 145
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:03:04.106 +01:00 [WRN] Not Found: Permissions not found: 45
2025-10-24 13:03:04.112 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - 404 null application/json 17712.5147ms
2025-10-24 13:03:18.392 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - application/json 95
2025-10-24 13:03:18.402 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:03:18.405 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:03:18.409 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:03:18.414 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:03:18.426 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:03:18.438 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:03:42.963 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 24541.8662ms
2025-10-24 13:03:43.002 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:03:57.599 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method584(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:03:57.631 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method584(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:03:57.660 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - 400 null application/json 39268.8637ms
2025-10-24 13:04:16.794 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - application/json 95
2025-10-24 13:04:16.809 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:04:16.813 +01:00 [INF] ⚙️ ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:04:16.818 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:04:16.822 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:04:16.848 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:04:16.866 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:04:25.204 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 8375.1748ms
2025-10-24 13:04:25.211 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:04:25.709 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method584(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto)
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto)
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context)
2025-10-24 13:04:25.748 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method584(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto)
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto)
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context)
2025-10-24 13:04:25.783 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - 400 null application/json 8989.0768ms
2025-10-24 13:04:26.300 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-24 13:04:26.325 +01:00 [INF]  ExceptionMiddleware executing for: /swagger/index.html
2025-10-24 13:04:26.332 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 32.0646ms
2025-10-24 13:04:26.384 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-24 13:04:26.384 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-24 13:04:26.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 15.2775ms
2025-10-24 13:04:26.514 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.1097ms
2025-10-24 13:04:26.769 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-24 13:04:26.783 +01:00 [INF]  ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-24 13:04:26.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.4859ms
2025-10-24 13:16:04.448 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:16:05.232 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:16:05.238 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:16:05.515 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:16:05.520 +01:00 [INF] Hosting environment: Development
2025-10-24 13:16:05.525 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:17:07.102 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/User/login - application/json 61
2025-10-24 13:17:07.260 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:17:07.272 +01:00 [INF]  ExceptionMiddleware executing for: /api/User/login
2025-10-24 13:17:07.528 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 13:17:07.624 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserManagement.Application.DTO.UserRoleDto.UserLoginDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-24 13:17:12.453 +01:00 [INF] Executed DbCommand (133ms) [Parameters=[@__loginmodel_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginmodel_Email_0
2025-10-24 13:17:14.012 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 13:17:14.298 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 13:17:14.419 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.UserRoleDto.UserLoginResponse'.
2025-10-24 13:17:14.448 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.Login (UserManagement) in 6804.9098ms
2025-10-24 13:17:14.457 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 13:17:14.490 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/User/login - 200 null application/json; charset=utf-8 7404.7444ms
2025-10-24 13:17:44.322 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - application/json 84
2025-10-24 13:17:44.339 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:17:44.343 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:17:44.468 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:17:44.484 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:17:44.672 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:17:44.768 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:17:44.990 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:18:38.910 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 54415.8939ms
2025-10-24 13:18:38.917 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:18:39.475 +01:00 [ERR] Unhandled exception caught in middleware: Permissions not found: 0
System.Collections.Generic.KeyNotFoundException: Permissions not found: 0
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto)
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto)
   at lambda_method398(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context)
2025-10-24 13:18:39.568 +01:00 [WRN] Not Found: Permissions not found: 0
2025-10-24 13:18:39.578 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - 404 null application/json 55254.9189ms
2025-10-24 13:18:45.636 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - application/json 84
2025-10-24 13:18:45.645 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:18:45.650 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:18:45.660 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:18:45.672 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:18:45.771 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:18:45.797 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:18:52.470 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 6790.8132ms
2025-10-24 13:18:52.483 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:18:53.344 +01:00 [ERR] Unhandled exception caught in middleware: Permissions not found: 0
System.Collections.Generic.KeyNotFoundException: Permissions not found: 0
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto)
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto)
   at lambda_method468(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context)
2025-10-24 13:18:53.386 +01:00 [WRN] Not Found: Permissions not found: 0
2025-10-24 13:18:53.397 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - 404 null application/json 7760.9501ms
2025-10-24 13:19:08.733 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:19:09.579 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:19:09.586 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:19:10.006 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:19:10.013 +01:00 [INF] Hosting environment: Development
2025-10-24 13:19:10.021 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:19:11.371 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - application/json 84
2025-10-24 13:19:11.522 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:19:11.536 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:19:12.072 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:19:12.149 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:19:15.384 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:19:16.669 +01:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:19:17.176 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:20:05.434 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:20:06.729 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:20:06.739 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:20:07.178 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - application/json 84
2025-10-24 13:20:07.390 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:20:07.411 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:20:07.419 +01:00 [INF] Hosting environment: Development
2025-10-24 13:20:07.426 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:20:07.409 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:20:08.238 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:20:08.378 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:20:11.967 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:20:13.111 +01:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:20:13.683 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:20:54.802 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 46394.1485ms
2025-10-24 13:20:54.816 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:20:55.428 +01:00 [ERR] Unhandled exception caught in middleware: Permissions not found: 0
System.Collections.Generic.KeyNotFoundException: Permissions not found: 0
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 145
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:20:55.656 +01:00 [WRN] Not Found: Permissions not found: 0
2025-10-24 13:20:55.786 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - 404 null application/json 48627.1416ms
2025-10-24 13:21:25.484 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - application/json 84
2025-10-24 13:21:25.531 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:21:25.539 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:21:25.555 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:21:25.565 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:21:25.728 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:21:25.772 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:21:26.433 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 851.3196ms
2025-10-24 13:21:26.444 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:21:27.021 +01:00 [ERR] Unhandled exception caught in middleware: Permissions not found: 0
System.Collections.Generic.KeyNotFoundException: Permissions not found: 0
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 145
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:21:27.047 +01:00 [WRN] Not Found: Permissions not found: 0
2025-10-24 13:21:27.053 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - 404 null application/json 1571.0034ms
2025-10-24 13:21:30.308 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - application/json 84
2025-10-24 13:21:30.319 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:21:30.324 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:21:30.332 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:21:30.337 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:21:30.506 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:21:30.528 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:21:30.943 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 597.3738ms
2025-10-24 13:21:30.952 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:21:31.508 +01:00 [ERR] Unhandled exception caught in middleware: Permissions not found: 0
System.Collections.Generic.KeyNotFoundException: Permissions not found: 0
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 145
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:21:31.544 +01:00 [WRN] Not Found: Permissions not found: 0
2025-10-24 13:21:31.549 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - 404 null application/json 1241.2472ms
2025-10-24 13:22:21.319 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles - application/json 84
2025-10-24 13:22:21.361 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:22:21.364 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:22:21.371 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:22:21.376 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:22:21.421 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:22:21.443 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:22:21.931 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 545.7533ms
2025-10-24 13:22:21.940 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:22:22.377 +01:00 [ERR] Unhandled exception caught in middleware: Permissions not found: 0
System.Collections.Generic.KeyNotFoundException: Permissions not found: 0
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 145
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:22:22.401 +01:00 [WRN] Not Found: Permissions not found: 0
2025-10-24 13:22:22.406 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles - 404 null application/json 1121.4678ms
2025-10-24 13:23:05.478 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:23:06.304 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:23:06.310 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:23:06.596 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:23:06.600 +01:00 [INF] Hosting environment: Development
2025-10-24 13:23:06.605 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:23:09.430 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles - application/json 84
2025-10-24 13:23:09.561 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:23:09.572 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:23:09.938 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:23:10.003 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:23:13.418 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:23:14.564 +01:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:23:15.070 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:23:15.721 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 5700.4919ms
2025-10-24 13:23:15.732 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:23:16.189 +01:00 [ERR] Unhandled exception caught in middleware: Permissions not found: 0
System.Collections.Generic.KeyNotFoundException: Permissions not found: 0
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 145
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:23:16.298 +01:00 [WRN] Not Found: Permissions not found: 0
2025-10-24 13:23:16.350 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles - 404 null application/json 6931.2269ms
2025-10-24 13:23:52.536 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - application/json 82
2025-10-24 13:23:52.563 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:23:52.568 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:23:52.576 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:23:52.584 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:23:52.724 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:23:52.749 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:23:53.267 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 669.0045ms
2025-10-24 13:23:53.275 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:23:53.682 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:23:53.712 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:23:53.744 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - 400 null application/json 1215.2939ms
2025-10-24 13:24:36.835 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=997 - application/json 82
2025-10-24 13:24:36.843 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:24:36.846 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:24:36.852 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:24:36.857 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:24:37.057 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:24:37.077 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:24:37.519 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 652.6784ms
2025-10-24 13:24:37.527 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:24:37.959 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:24:37.984 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:24:38.010 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=997 - 400 null application/json 1181.028ms
2025-10-24 13:24:47.078 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=997 - application/json 82
2025-10-24 13:24:47.090 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:24:47.094 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:24:47.099 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:24:47.105 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:24:47.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:24:47.134 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:24:47.809 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 694.827ms
2025-10-24 13:24:47.816 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:24:48.200 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:24:48.228 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:24:48.259 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=997 - 400 null application/json 1180.7741ms
2025-10-24 13:24:56.799 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=997 - application/json 80
2025-10-24 13:24:56.811 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:24:56.814 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:24:56.819 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:24:56.823 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:24:56.836 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:24:56.850 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:24:57.279 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 448.5709ms
2025-10-24 13:24:57.287 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:24:57.768 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:24:57.793 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:24:57.819 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=997 - 400 null application/json 1019.4784ms
2025-10-24 13:25:34.892 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-24 13:25:34.923 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:25:34.933 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:25:34.947 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:25:35.039 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:25:35.075 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 13:25:35.097 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 140.1539ms
2025-10-24 13:25:35.104 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:25:35.110 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 217.8899ms
2025-10-24 13:26:45.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-24 13:26:45.210 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:26:45.215 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:26:45.218 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:26:45.286 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:26:45.303 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 13:26:45.313 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 87.0879ms
2025-10-24 13:26:45.322 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:26:45.329 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 174.2461ms
2025-10-24 13:27:20.774 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=997 - application/json 96
2025-10-24 13:27:20.797 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:27:20.800 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:27:20.805 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:27:20.810 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:27:20.837 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:27:20.860 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:27:21.278 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 459.9511ms
2025-10-24 13:27:21.286 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:27:21.673 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:27:21.700 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:27:21.730 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=997 - 400 null application/json 956.2404ms
2025-10-24 13:27:54.866 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee/36 - null null
2025-10-24 13:27:54.893 +01:00 [INF]  ExceptionMiddleware executing for: /api/Employee/36
2025-10-24 13:27:54.897 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 13:27:54.908 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] GetEmployeeById(Int32) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 13:27:54.925 +01:00 [INF] Fetching employee 36 from database
2025-10-24 13:27:55.012 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [r].[RoleName], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
WHERE [e].[Id] = @__id_0
2025-10-24 13:27:55.024 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-10-24 13:27:55.030 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement) in 116.9759ms
2025-10-24 13:27:55.038 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 13:27:55.043 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee/36 - 404 null text/plain; charset=utf-8 177.7514ms
2025-10-24 13:28:04.595 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee/35 - null null
2025-10-24 13:28:04.603 +01:00 [INF]  ExceptionMiddleware executing for: /api/Employee/35
2025-10-24 13:28:04.608 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 13:28:04.612 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] GetEmployeeById(Int32) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 13:28:04.620 +01:00 [INF] Fetching employee 35 from database
2025-10-24 13:28:04.631 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [r].[RoleName], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
WHERE [e].[Id] = @__id_0
2025-10-24 13:28:04.643 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-10-24 13:28:04.650 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement) in 30.9297ms
2025-10-24 13:28:04.655 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 13:28:04.661 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee/35 - 404 null text/plain; charset=utf-8 65.5154ms
2025-10-24 13:29:41.659 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Employee/39 - null null
2025-10-24 13:29:41.670 +01:00 [INF]  ExceptionMiddleware executing for: /api/Employee/39
2025-10-24 13:29:41.672 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 13:29:41.673 +01:00 [INF] Route matched with {action = "GetEmployeeById", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.EmployeeDto.EmployeeResponse]] GetEmployeeById(Int32) on controller UserManagement.Presentation.Controllers.EmployeeController (UserManagement).
2025-10-24 13:29:41.679 +01:00 [INF] Fetching employee 39 from database
2025-10-24 13:29:41.701 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Firstname], [e].[Middlename], [e].[Lastname], [e].[Gender], [e].[Email], [e].[Phone], [e].[DOB], [r].[RoleName], [d].[DeptName], [e].[IsActive]
FROM [Employees] AS [e]
INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
INNER JOIN [Departments] AS [d] ON [e].[DepartmentId] = [d].[Id]
WHERE [e].[Id] = @__id_0
2025-10-24 13:29:41.709 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.EmployeeDto.EmployeeResponse'.
2025-10-24 13:29:41.724 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement) in 48.3723ms
2025-10-24 13:29:41.727 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.EmployeeController.GetEmployeeById (UserManagement)'
2025-10-24 13:29:41.729 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Employee/39 - 200 null application/json; charset=utf-8 69.9547ms
2025-10-24 13:29:56.345 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:29:56.349 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:29:56.351 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:29:56.363 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:29:56.365 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:29:56.395 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:29:56.473 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:29:56.756 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 383.7526ms
2025-10-24 13:29:56.761 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:29:57.076 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:29:57.093 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:29:57.109 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 400 null application/json 763.9271ms
2025-10-24 13:30:10.941 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:30:11.898 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:30:11.904 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:30:12.227 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:30:12.233 +01:00 [INF] Hosting environment: Development
2025-10-24 13:30:12.238 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:30:21.501 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:30:21.559 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:30:21.565 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:30:21.721 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:30:21.754 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:30:23.375 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:30:23.977 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:30:24.221 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:30:24.503 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 2739.7978ms
2025-10-24 13:30:24.509 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:30:24.691 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:30:24.729 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:30:24.753 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 400 null application/json 3258.4648ms
2025-10-24 13:30:32.569 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:30:32.589 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:30:32.592 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:30:32.596 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:30:32.600 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:30:32.651 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:30:32.661 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:30:32.829 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 226.9688ms
2025-10-24 13:30:32.834 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:30:33.020 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:30:33.035 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:30:33.050 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 400 null application/json 480.5499ms
2025-10-24 13:30:36.497 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:30:36.652 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:30:36.665 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:30:36.712 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:30:36.732 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:30:36.885 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:30:36.895 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:30:37.189 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 440.3974ms
2025-10-24 13:30:37.195 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:30:37.486 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:30:37.508 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 67
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:30:37.529 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 400 null application/json 1031.6455ms
2025-10-24 13:32:52.883 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:32:53.196 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:32:53.199 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:32:53.318 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:32:53.320 +01:00 [INF] Hosting environment: Development
2025-10-24 13:32:53.322 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:33:02.919 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:33:02.968 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:33:02.974 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:33:03.135 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:33:03.164 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:33:05.500 +01:00 [INF] Executed DbCommand (76ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__roleId_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:33:05.699 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 13:33:05.716 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 2542.5856ms
2025-10-24 13:33:05.721 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:33:05.739 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 404 null application/json; charset=utf-8 2827.3269ms
2025-10-24 13:34:26.651 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:34:27.084 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:34:27.087 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:34:27.221 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:34:27.278 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:34:27.283 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:34:27.297 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:34:27.299 +01:00 [INF] Hosting environment: Development
2025-10-24 13:34:27.301 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:34:27.634 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:34:27.666 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:34:29.269 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:34:29.881 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:34:30.160 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:34:30.457 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 2783.8037ms
2025-10-24 13:34:30.462 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:34:30.681 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:34:30.739 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> List`1
UserManagement.Domain.Entities.Roles -> System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method188(Closure, Object, List`1, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:34:30.766 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 400 null application/json 3552.1477ms
2025-10-24 13:36:16.325 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:36:16.662 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:36:16.665 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:36:16.788 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:36:16.790 +01:00 [INF] Hosting environment: Development
2025-10-24 13:36:16.792 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:37:06.667 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:37:06.805 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:37:06.817 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:37:07.314 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:37:07.349 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:37:09.166 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:37:09.694 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:37:09.924 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:37:10.181 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 2825.4169ms
2025-10-24 13:37:10.186 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:37:10.359 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
   at lambda_method188(Closure, Object, PermissionRoleResponse, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:37:10.409 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
   at lambda_method188(Closure, Object, PermissionRoleResponse, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:37:10.437 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 400 null application/json 3782.8679ms
2025-10-24 13:37:16.142 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:37:16.149 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:37:16.152 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:37:16.158 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:37:16.162 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:37:16.180 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:37:16.191 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:37:16.358 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 193.8003ms
2025-10-24 13:37:16.362 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:37:16.508 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
   at lambda_method188(Closure, Object, PermissionRoleResponse, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:37:16.520 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
   at lambda_method188(Closure, Object, PermissionRoleResponse, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:37:16.530 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 400 null application/json 387.4955ms
2025-10-24 13:37:44.390 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:37:45.320 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:37:45.325 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:37:45.966 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:37:45.979 +01:00 [INF] Hosting environment: Development
2025-10-24 13:37:45.986 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:37:45.984 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-24 13:37:46.355 +01:00 [INF]  ExceptionMiddleware executing for: /swagger/index.html
2025-10-24 13:37:46.566 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 623.5513ms
2025-10-24 13:37:46.665 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-24 13:37:46.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-24 13:37:46.966 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 301.0286ms
2025-10-24 13:37:47.014 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 339.2087ms
2025-10-24 13:37:47.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-24 13:37:47.070 +01:00 [INF]  ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-24 13:37:47.144 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.2645ms
2025-10-24 13:38:16.337 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/User/login - application/json 61
2025-10-24 13:38:16.357 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:38:16.360 +01:00 [INF]  ExceptionMiddleware executing for: /api/User/login
2025-10-24 13:38:16.474 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 13:38:16.506 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserManagement.Application.DTO.UserRoleDto.UserLoginDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-24 13:38:19.095 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[@__loginmodel_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginmodel_Email_0
2025-10-24 13:38:19.885 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 13:38:20.537 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 13:38:20.670 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.UserRoleDto.UserLoginResponse'.
2025-10-24 13:38:20.693 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.Login (UserManagement) in 4176.0019ms
2025-10-24 13:38:20.701 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 13:38:20.727 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/User/login - 200 null application/json; charset=utf-8 4390.1697ms
2025-10-24 13:39:44.111 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-24 13:39:44.153 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:39:44.380 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:39:44.396 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:39:44.789 +01:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:39:44.830 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 13:39:44.846 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 441.017ms
2025-10-24 13:39:44.852 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 13:39:44.858 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 747.3888ms
2025-10-24 13:39:57.855 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:39:57.861 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:39:57.863 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:39:57.867 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:39:57.871 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:39:57.909 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:39:57.941 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:39:58.018 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:39:58.295 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 421.6335ms
2025-10-24 13:39:58.299 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:39:58.486 +01:00 [ERR] Unhandled exception caught in middleware: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
   at lambda_method523(Closure, Object, PermissionRoleResponse, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 70
   at lambda_method456(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:39:58.532 +01:00 [ERR] Unhandled exception: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Roles -> PermissionRoleResponse
UserManagement.Domain.Entities.Roles -> UserManagement.Application.DTO.Roles.PermissionRoleResponse
   at lambda_method523(Closure, Object, PermissionRoleResponse, ResolutionContext)
   at UserManagement.Application.Services.RoleService.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Application\Services\RoleService.cs:line 149
   at UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission(Int32 Id, UpdateRole dto) in C:\Users\HP\Desktop\CMS1\CMS1\Presentation\Controllers\RolesController.cs:line 70
   at lambda_method456(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at UserManagement.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\HP\Desktop\CMS1\CMS1\Middleware\ExceptionMiddleware.cs:line 26
2025-10-24 13:39:58.545 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 400 null application/json 690.7969ms
2025-10-24 13:43:19.835 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:43:20.150 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:43:20.153 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:43:20.276 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:43:20.278 +01:00 [INF] Hosting environment: Development
2025-10-24 13:43:20.281 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:43:21.066 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:43:21.118 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:43:21.125 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:43:21.276 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:43:21.306 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:43:23.032 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:43:23.613 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:43:23.902 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:43:23.938 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.Roles.PermissionRoleResponse'.
2025-10-24 13:43:23.955 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 2639.9389ms
2025-10-24 13:43:23.959 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:43:23.975 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 200 null application/json; charset=utf-8 2913.5657ms
2025-10-24 13:58:18.703 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 13:58:19.096 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 13:58:19.099 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 13:58:19.234 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 13:58:19.236 +01:00 [INF] Hosting environment: Development
2025-10-24 13:58:19.239 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 13:58:27.686 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 13:58:27.736 +01:00 [INF] CORS policy execution successful.
2025-10-24 13:58:27.742 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 13:58:27.920 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:58:27.952 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 13:58:31.009 +01:00 [INF] Executed DbCommand (170ms) [Parameters=[@__dto_RoleName_0='?' (Size = 4000), @__Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]
        WHERE [r].[RoleName] = @__dto_RoleName_0 AND [r].[Id] <> @__Id_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-24 13:58:31.418 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 13:58:31.855 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 13:58:32.421 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 13:58:32.477 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.Roles.PermissionRoleResponse'.
2025-10-24 13:58:32.543 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 4555.5554ms
2025-10-24 13:58:32.574 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 13:58:32.681 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 200 null application/json; charset=utf-8 4998.6338ms
2025-10-24 14:00:45.085 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 14:00:45.467 +01:00 [INF] Now listening on: https://localhost:7153
2025-10-24 14:00:45.470 +01:00 [INF] Now listening on: http://localhost:5164
2025-10-24 14:00:45.605 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 14:00:45.607 +01:00 [INF] Hosting environment: Development
2025-10-24 14:00:45.609 +01:00 [INF] Content root path: C:\Users\HP\Desktop\CMS1\CMS1
2025-10-24 14:00:53.359 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 14:00:53.415 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:00:53.422 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:00:53.585 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:00:53.621 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:00:55.764 +01:00 [INF] Executed DbCommand (66ms) [Parameters=[@__dto_RoleName_0='?' (Size = 4000), @__Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]
        WHERE [r].[RoleName] = @__dto_RoleName_0 AND [r].[Id] <> @__Id_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-24 14:00:55.877 +01:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-10-24 14:00:56.005 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 14:00:56.202 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 14:00:56.232 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.Roles.PermissionRoleResponse'.
2025-10-24 14:00:56.252 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 2620.0599ms
2025-10-24 14:00:56.256 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:00:56.273 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 200 null application/json; charset=utf-8 2921.7115ms
2025-10-24 14:01:06.340 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 88
2025-10-24 14:01:06.348 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:01:06.350 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:01:06.353 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:01:06.355 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:01:06.375 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_RoleName_0='?' (Size = 4000), @__Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]
        WHERE [r].[RoleName] = @__dto_RoleName_0 AND [r].[Id] <> @__Id_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-24 14:01:06.382 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 14:01:06.392 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 14:01:06.397 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.Roles.PermissionRoleResponse'.
2025-10-24 14:01:06.401 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 41.8705ms
2025-10-24 14:01:06.403 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:01:06.410 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 200 null application/json; charset=utf-8 69.7641ms
2025-10-24 14:01:19.434 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 88
2025-10-24 14:01:19.490 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:01:19.494 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:01:19.502 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:01:19.507 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:01:19.872 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_RoleName_0='?' (Size = 4000), @__Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]
        WHERE [r].[RoleName] = @__dto_RoleName_0 AND [r].[Id] <> @__Id_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-24 14:01:19.885 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 14:01:19.908 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 14:01:19.919 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.Roles.PermissionRoleResponse'.
2025-10-24 14:01:19.929 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 413.8815ms
2025-10-24 14:01:19.937 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:01:19.945 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 200 null application/json; charset=utf-8 510.6909ms
2025-10-24 14:01:33.618 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-24 14:01:33.735 +01:00 [INF]  ExceptionMiddleware executing for: /swagger/index.html
2025-10-24 14:01:33.836 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 217.7705ms
2025-10-24 14:01:33.854 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-24 14:01:33.854 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-24 14:01:33.885 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 31.1119ms
2025-10-24 14:01:33.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.4567ms
2025-10-24 14:01:34.048 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-24 14:01:34.053 +01:00 [INF]  ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-24 14:01:34.083 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.9838ms
2025-10-24 14:02:08.520 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/User/login - application/json 61
2025-10-24 14:02:08.532 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:02:08.534 +01:00 [INF]  ExceptionMiddleware executing for: /api/User/login
2025-10-24 14:02:08.535 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 14:02:08.542 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserManagement.Application.DTO.UserRoleDto.UserLoginDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-24 14:02:08.590 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__loginmodel_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginmodel_Email_0
2025-10-24 14:02:09.070 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 14:02:09.148 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 14:02:09.177 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.UserRoleDto.UserLoginResponse'.
2025-10-24 14:02:09.182 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.Login (UserManagement) in 637.3462ms
2025-10-24 14:02:09.186 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 14:02:09.190 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/User/login - 200 null application/json; charset=utf-8 669.1482ms
2025-10-24 14:03:54.157 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 102
2025-10-24 14:03:54.169 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:03:54.171 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:03:54.174 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:03:54.176 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:03:54.192 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-24 14:03:54.222 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 43.7632ms
2025-10-24 14:03:54.227 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:03:54.229 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 400 null application/problem+json; charset=utf-8 72.7734ms
2025-10-24 14:04:14.922 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - application/json 96
2025-10-24 14:04:14.927 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:04:14.928 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:04:14.930 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:04:14.931 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:04:14.944 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_RoleName_0='?' (Size = 4000), @__Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]
        WHERE [r].[RoleName] = @__dto_RoleName_0 AND [r].[Id] <> @__Id_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-24 14:04:14.957 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 14:04:14.972 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 14:04:14.977 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.Roles.PermissionRoleResponse'.
2025-10-24 14:04:14.981 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 45.7448ms
2025-10-24 14:04:14.984 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:04:14.986 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=39 - 200 null application/json; charset=utf-8 64.293ms
2025-10-24 14:36:26.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-10-24 14:36:26.547 +01:00 [INF]  ExceptionMiddleware executing for: /swagger/index.html
2025-10-24 14:36:26.551 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 24.7261ms
2025-10-24 14:36:26.577 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-10-24 14:36:26.578 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-10-24 14:36:26.582 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 5.0156ms
2025-10-24 14:36:26.607 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.4837ms
2025-10-24 14:36:26.840 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-10-24 14:36:26.845 +01:00 [INF]  ExceptionMiddleware executing for: /swagger/v1/swagger.json
2025-10-24 14:36:26.872 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.9482ms
2025-10-24 14:37:25.007 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7153/api/User/login - application/json 61
2025-10-24 14:37:25.020 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:37:25.022 +01:00 [INF]  ExceptionMiddleware executing for: /api/User/login
2025-10-24 14:37:25.024 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 14:37:25.029 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(UserManagement.Application.DTO.UserRoleDto.UserLoginDto) on controller UserManagement.Presentation.Controllers.UserController (UserManagement).
2025-10-24 14:37:25.089 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__loginmodel_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[EmployeeId], [u].[PasswordHash], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__loginmodel_Email_0
2025-10-24 14:37:25.296 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 14:37:25.306 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[DOB], [s].[DepartmentId], [s].[Email], [s].[Firstname], [s].[Gender], [s].[IsActive], [s].[JobTitleId], [s].[Lastname], [s].[Middlename], [s].[Phone], [s].[RoleId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[CreatedAt0], [s].[Description], [s].[RoleName], [s].[UpdatedAt0], [s0].[PermissionsId], [s0].[RolesId], [s0].[Id], [s0].[CreatedAt], [s0].[Description], [s0].[ModuleName], [s0].[SubModuleName], [s0].[UpdatedAt]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DOB], [e].[DepartmentId], [e].[Email], [e].[Firstname], [e].[Gender], [e].[IsActive], [e].[JobTitleId], [e].[Lastname], [e].[Middlename], [e].[Phone], [e].[RoleId], [e].[UpdatedAt], [e].[UserId], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[RoleName], [r].[UpdatedAt] AS [UpdatedAt0]
    FROM [Employees] AS [e]
    INNER JOIN [Roles] AS [r] ON [e].[RoleId] = [r].[Id]
    WHERE [e].[UserId] = @__user_Id_0
) AS [s]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s0] ON [s].[Id0] = [s0].[RolesId]
ORDER BY [s].[Id], [s].[Id0], [s0].[PermissionsId], [s0].[RolesId]
2025-10-24 14:37:25.311 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.UserRoleDto.UserLoginResponse'.
2025-10-24 14:37:25.316 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.UserController.Login (UserManagement) in 283.1062ms
2025-10-24 14:37:25.319 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.UserController.Login (UserManagement)'
2025-10-24 14:37:25.322 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7153/api/User/login - 200 null application/json; charset=utf-8 315.0836ms
2025-10-24 14:40:32.979 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Roles - null null
2025-10-24 14:40:32.990 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:40:32.992 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 14:40:32.995 +01:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]]] GetAllRoles() on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:40:33.045 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM [Roles] AS [r]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r].[Id] = [s].[RolesId]
ORDER BY [r].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 14:40:33.058 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagement.Application.DTO.Roles.PermissionRoleResponse, UserManagement, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 14:40:33.067 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement) in 69.2477ms
2025-10-24 14:40:33.071 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.GetAllRoles (UserManagement)'
2025-10-24 14:40:33.074 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Roles - 200 null application/json; charset=utf-8 94.3206ms
2025-10-24 14:41:11.557 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - application/json 95
2025-10-24 14:41:11.568 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:41:11.570 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:41:11.571 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:41:11.577 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:41:11.624 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__Id_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 14:41:11.760 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 14:41:11.766 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 186.5433ms
2025-10-24 14:41:11.770 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:41:11.773 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=99 - 404 null application/json; charset=utf-8 215.6117ms
2025-10-24 14:42:06.214 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - application/json 95
2025-10-24 14:42:06.222 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:42:06.223 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:42:06.225 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:42:06.227 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:42:06.249 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__Id_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 14:42:06.262 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 14:42:06.425 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [PermissionRoles]
OUTPUT 1
WHERE [PermissionsId] = @p0 AND [RolesId] = @p1;
UPDATE [Roles] SET [Description] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-10-24 14:42:06.458 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.Roles.PermissionRoleResponse'.
2025-10-24 14:42:06.462 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 230.6594ms
2025-10-24 14:42:06.467 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:42:06.470 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - 200 null application/json; charset=utf-8 258.7255ms
2025-10-24 14:46:09.270 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - application/json 82
2025-10-24 14:46:09.283 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:46:09.284 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:46:09.287 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:46:09.289 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:46:09.314 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__Id_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 14:46:09.326 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 14:46:09.338 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Roles] SET [Description] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-24 14:46:09.345 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.Roles.PermissionRoleResponse'.
2025-10-24 14:46:09.350 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 57.775ms
2025-10-24 14:46:09.353 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:46:09.355 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - 200 null application/json; charset=utf-8 85.1194ms
2025-10-24 14:46:20.829 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - application/json 95
2025-10-24 14:46:20.834 +01:00 [INF] CORS policy execution successful.
2025-10-24 14:46:20.835 +01:00 [INF]  ExceptionMiddleware executing for: /api/Roles
2025-10-24 14:46:20.838 +01:00 [INF] Executing endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:46:20.840 +01:00 [INF] Route matched with {action = "UpdateRolePermission", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[UserManagement.Application.DTO.Roles.PermissionRoleResponse]] UpdateRolePermission(Int32, UserManagement.Application.DTO.Roles.UpdateRole) on controller UserManagement.Presentation.Controllers.RolesController (UserManagement).
2025-10-24 14:46:20.846 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[CreatedAt], [r0].[Description], [r0].[RoleName], [r0].[UpdatedAt], [s].[PermissionsId], [s].[RolesId], [s].[Id], [s].[CreatedAt], [s].[Description], [s].[ModuleName], [s].[SubModuleName], [s].[UpdatedAt]
FROM (
    SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[RoleName], [r].[UpdatedAt]
    FROM [Roles] AS [r]
    WHERE [r].[Id] = @__Id_0
) AS [r0]
LEFT JOIN (
    SELECT [p].[PermissionsId], [p].[RolesId], [p0].[Id], [p0].[CreatedAt], [p0].[Description], [p0].[ModuleName], [p0].[SubModuleName], [p0].[UpdatedAt]
    FROM [PermissionRoles] AS [p]
    INNER JOIN [Permissions] AS [p0] ON [p].[PermissionsId] = [p0].[Id]
) AS [s] ON [r0].[Id] = [s].[RolesId]
ORDER BY [r0].[Id], [s].[PermissionsId], [s].[RolesId]
2025-10-24 14:46:20.853 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_PermissionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[Description], [p].[ModuleName], [p].[SubModuleName], [p].[UpdatedAt]
FROM [Permissions] AS [p]
WHERE [p].[Id] IN (
    SELECT [d].[value]
    FROM OPENJSON(@__dto_PermissionId_0) WITH ([value] int '$') AS [d]
)
2025-10-24 14:46:20.862 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Roles] SET [Description] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-24 14:46:20.868 +01:00 [INF] Executing OkObjectResult, writing value of type 'UserManagement.Application.DTO.Roles.PermissionRoleResponse'.
2025-10-24 14:46:20.871 +01:00 [INF] Executed action UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement) in 27.9036ms
2025-10-24 14:46:20.873 +01:00 [INF] Executed endpoint 'UserManagement.Presentation.Controllers.RolesController.UpdateRolePermission (UserManagement)'
2025-10-24 14:46:20.875 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Roles?Id=3 - 200 null application/json; charset=utf-8 45.5013ms
